import{K as l,w as m,L as h,H as w,M,N,g as P,a as p,O as U,n as Y,P as q,Q as y,R as B,T as z,S as $,U as x,V as Z,W as C,X as G,Y as H,Z as K,_ as Q}from"./if-DDvdYaUT.js";function A(e,t,n){if(e==null)return t(void 0),l;const r=m(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const _=[];function j(e,t=l){let n=null;const r=new Set;function s(i){if(h(e,i)&&(e=i,n)){const o=!_.length;for(const u of r)u[1](),_.push(u,e);if(o){for(let u=0;u<_.length;u+=2)_[u][0](_[u+1]);_.length=0}}}function f(i){s(i(e))}function c(i,o=l){const u=[i,o];return r.add(u),r.size===1&&(n=t(s,f)||l),i(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:f,subscribe:c}}function V(e){let t;return A(e,n=>t=n)(),t}let S=!1,O=Symbol();function F(e,t,n){const r=n[t]??={store:null,source:N(void 0),unsubscribe:l};if(r.store!==e&&!(O in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=l;else{var s=!0;r.unsubscribe=A(e,f=>{s?r.source.v=f:p(r.source,f)}),s=!1}return e&&O in n?V(e):P(r.source)}function J(){const e={};function t(){w(()=>{for(var n in e)e[n].unsubscribe();M(e,O,{enumerable:!1,value:!0})})}return[e,t]}function k(e,t,n){return e.set(n),t}function W(e){var t=S;try{return S=!1,[e(),S]}finally{S=t}}function ee(e,t=1){const n=e();return e(n+t),n}function ne(e,t,n,r){var s=(n&Q)!==0,f=(n&K)!==0,c=r,i=!0,o=()=>(i&&(i=!1,c=f?m(r):r),c),u;if(s){var L=$ in e||x in e;u=U(e,t)?.set??(L&&t in e?a=>e[t]=a:void 0)}var b,E=!1;s?[b,E]=W(()=>e[t]):b=e[t],b===void 0&&r!==void 0&&(b=o(),u&&(C(),u(b)));var d;if(d=()=>{var a=e[t];return a===void 0?o():(i=!0,a)},(n&G)===0)return d;if(u){var R=e.$$legacy;return(function(a,g){return arguments.length>0?((!g||R||E)&&u(g?d():a),a):d()})}var I=!1,v=((n&H)!==0?B:Z)(()=>(I=!1,d()));s&&P(v);var D=q;return(function(a,g){if(arguments.length>0){const T=g?P(v):s?Y(a):a;return p(v,T),I=!0,c!==void 0&&(c=T),a}return z&&I||(D.f&y)!==0?v.v:P(v)})}export{J as a,k as b,ne as p,F as s,ee as u,j as w};
