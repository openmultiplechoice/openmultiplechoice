import{S as be,i as _e,s as ae,n as N,d as h,g as c,o as W,a as v,c as d,f as u,b as q,D as te,q as qe,t as de,l as I,v as he,p as j,e as ee,E as ot,N as Ae,h as Se,k as ie,m as Ie,w as O,x as F,z as fe,A as ue,r as re,u as me,y as oe,B as we,C as pe,O as ct}from"./index-CTA786D7.js";import{e as le,u as at,d as ft,o as ut}from"./each-KlFnVOXz.js";import{p as V,d as dt}from"./purify.es-CzHI0FGf.js";import{_ as bt}from"./lodash-DBMh2b1a.js";import{h as ke,Q as _t}from"./QuestionForm-D8WSlEvi.js";function mt(s){let e,t;return{c(){e=u("div"),t=u("p"),t.textContent=`${s[8]}`,c(t,"class","badge text-bg-light my-0"),c(e,"class","col-1 border-start-3")},m(n,i){v(n,e,i),d(e,t)},p:N,d(n){n&&h(e)}}}function wt(s){let e,t,n,i;return{c(){e=u("div"),t=u("p"),t.textContent=`${s[8]}`,c(t,"class","badge text-bg-light my-0"),c(e,"class","col-1 border-start-3 cursor-pointer svelte-12xdzqf")},m(l,r){v(l,e,r),d(e,t),n||(i=I(e,"click",s[10]),n=!0)},p:N,d(l){l&&h(e),n=!1,i()}}}function pt(s){let e,t,n=V.sanitize(s[0].text)+"";return{c(){e=u("div"),t=u("p"),c(t,"class","px-1 my-0 trix-content"),c(e,"class","col-9")},m(i,l){v(i,e,l),d(e,t),t.innerHTML=n},p(i,l){l&1&&n!==(n=V.sanitize(i[0].text)+"")&&(t.innerHTML=n)},d(i){i&&h(e)}}}function gt(s){let e,t,n=V.sanitize(s[0].text)+"",i,l;return{c(){e=u("div"),t=u("p"),c(t,"class","px-1 my-0 trix-content"),c(e,"class","col-9 cursor-pointer svelte-12xdzqf")},m(r,o){v(r,e,o),d(e,t),t.innerHTML=n,i||(l=I(e,"click",s[11]),i=!0)},p(r,o){o&1&&n!==(n=V.sanitize(r[0].text)+"")&&(t.innerHTML=n)},d(r){r&&h(e),i=!1,l()}}}function Ee(s){let e,t=s[0].answer_percentage+"",n,i;return{c(){e=u("span"),n=de(t),i=de("%"),c(e,"class","badge"),c(e,"title","Percentage of users who chose this answer"),W(e,"text-dark",!s[1].isSubmittedAnswer&&!s[1].isCorrectAnswer)},m(l,r){v(l,e,r),d(e,n),d(e,i)},p(l,r){r&1&&t!==(t=l[0].answer_percentage+"")&&qe(n,t),r&2&&W(e,"text-dark",!l[1].isSubmittedAnswer&&!l[1].isCorrectAnswer)},d(l){l&&h(e)}}}function kt(s){let e;return{c(){e=u("span"),e.textContent="✓",c(e,"class","text-secondary fw-bold fs-4")},m(t,n){v(t,e,n)},p:N,d(t){t&&h(e)}}}function ht(s){let e;return{c(){e=u("span"),e.textContent="✗",c(e,"class","text-light fw-bold fs-4")},m(t,n){v(t,e,n)},p:N,d(t){t&&h(e)}}}function vt(s){let e;return{c(){e=u("span"),e.textContent="⇠",c(e,"class","text-light fw-bold fs-4")},m(t,n){v(t,e,n)},p:N,d(t){t&&h(e)}}}function At(s){let e;return{c(){e=u("span"),e.textContent="✓",c(e,"class","text-light fw-bold fs-4")},m(t,n){v(t,e,n)},p:N,d(t){t&&h(e)}}}function St(s){let e,t,n,i,l,r,o,a;return{c(){e=u("div"),t=u("button"),t.innerHTML='<span class="text-secondary">✗</span>',n=q(),i=u("div"),l=q(),r=u("button"),r.innerHTML='<span class="text-secondary">✓</span>',c(t,"type","button"),c(t,"class","btn btn-sm p-0"),c(i,"class","vr mx-1"),c(r,"type","button"),c(r,"class","btn btn-sm p-0"),c(e,"class","d-flex justify-content-end align-items-center")},m(f,_){v(f,e,_),d(e,t),d(e,n),d(e,i),d(e,l),d(e,r),o||(a=[I(t,"click",j(s[12])),I(r,"click",j(s[13]))],o=!0)},p:N,d(f){f&&h(e),o=!1,he(a)}}}function Qe(s){let e,t,n,i,l=V.sanitize(s[0].hint)+"";return{c(){e=u("div"),t=q(),n=u("div"),i=u("p"),c(e,"class","col-1 border-3"),c(i,"class","p-1 trix-content"),c(n,"class","col-9")},m(r,o){v(r,e,o),v(r,t,o),v(r,n,o),d(n,i),i.innerHTML=l},p(r,o){o&1&&l!==(l=V.sanitize(r[0].hint)+"")&&(i.innerHTML=l)},d(r){r&&(h(e),h(t),h(n))}}}function Ct(s){let e,t,n,i,l,r,o,a,f,_,g,C;function m(b,L){return!b[2]&&!b[1].isSubmittedAnswer?wt:mt}let p=m(s),w=p(s);function M(b,L){return!b[2]&&!b[1].isSelectedAnswer?gt:pt}let H=M(s),T=H(s),z=s[2]&&!s[4]&&s[5]&&s[0].answer_percentage!=null&&Ee(s);function X(b,L){if(!b[2]&&!b[1].isSelectedAnswer)return St;if(!b[4]&&b[1].isCorrectAnswer&&b[1].isSubmittedAnswer)return At;if(!b[4]&&b[1].isCorrectAnswer&&!b[1].isSubmittedAnswer&&b[2])return vt;if(!b[4]&&b[1].isSubmittedAnswer)return ht;if(b[4]&&b[1].isSubmittedAnswer)return kt}let D=X(s),k=D&&D(s),y=!s[4]&&s[0].hint&&(s[2]||s[1].isSelectedAnswer)&&Qe(s);return{c(){e=u("div"),w.c(),t=q(),T.c(),n=q(),i=u("div"),l=u("div"),r=u("div"),z&&z.c(),o=q(),a=u("div"),k&&k.c(),g=q(),C=u("div"),y&&y.c(),c(r,"class","col-md"),c(a,"class","col-md"),c(l,"class","row text-end d-flex align-items-center"),c(i,"class","col-2"),c(e,"id",f="answer"+s[0].id),te(e,"min-height","3.6rem"),te(e,"box-shadow","4px 4px rgba(0,0,0,.2)"),c(e,"class",_="row border border-3 rounded m-1 py-2 d-flex align-items-center "+s[6]+" svelte-12xdzqf"),W(e,"bg-secondary-subtle",s[4]||!s[2]&&!s[1].isSelectedAnswer&&!s[1].isSubmittedAnswer||s[2]&&!s[1].isSubmittedAnswer&&!s[1].isCorrectAnswer),W(e,"text-dark",s[4]||!s[2]&&!s[1].isSelectedAnswer&&!s[1].isSubmittedAnswer||s[2]&&!s[1].isSubmittedAnswer&&!s[1].isCorrectAnswer),W(e,"text-bg-success",!s[4]&&s[2]&&s[1].isCorrectAnswer),W(e,"text-bg-danger",!s[4]&&s[1].isSelectedAnswer&&!s[1].isCorrectAnswer),W(e,"bg-incorrect",s[7]==="incorrect"),W(e,"bg-correct",s[7]==="correct"),c(C,"class","row ms-1 mb-2 me-1")},m(b,L){v(b,e,L),w.m(e,null),d(e,t),T.m(e,null),d(e,n),d(e,i),d(i,l),d(l,r),z&&z.m(r,null),d(l,o),d(l,a),k&&k.m(a,null),v(b,g,L),v(b,C,L),y&&y.m(C,null)},p(b,[L]){p===(p=m(b))&&w?w.p(b,L):(w.d(1),w=p(b),w&&(w.c(),w.m(e,t))),H===(H=M(b))&&T?T.p(b,L):(T.d(1),T=H(b),T&&(T.c(),T.m(e,n))),b[2]&&!b[4]&&b[5]&&b[0].answer_percentage!=null?z?z.p(b,L):(z=Ee(b),z.c(),z.m(r,null)):z&&(z.d(1),z=null),D===(D=X(b))&&k?k.p(b,L):(k&&k.d(1),k=D&&D(b),k&&(k.c(),k.m(a,null))),L&1&&f!==(f="answer"+b[0].id)&&c(e,"id",f),L&64&&_!==(_="row border border-3 rounded m-1 py-2 d-flex align-items-center "+b[6]+" svelte-12xdzqf")&&c(e,"class",_),L&86&&W(e,"bg-secondary-subtle",b[4]||!b[2]&&!b[1].isSelectedAnswer&&!b[1].isSubmittedAnswer||b[2]&&!b[1].isSubmittedAnswer&&!b[1].isCorrectAnswer),L&86&&W(e,"text-dark",b[4]||!b[2]&&!b[1].isSelectedAnswer&&!b[1].isSubmittedAnswer||b[2]&&!b[1].isSubmittedAnswer&&!b[1].isCorrectAnswer),L&86&&W(e,"text-bg-success",!b[4]&&b[2]&&b[1].isCorrectAnswer),L&82&&W(e,"text-bg-danger",!b[4]&&b[1].isSelectedAnswer&&!b[1].isCorrectAnswer),L&192&&W(e,"bg-incorrect",b[7]==="incorrect"),L&192&&W(e,"bg-correct",b[7]==="correct"),!b[4]&&b[0].hint&&(b[2]||b[1].isSelectedAnswer)?y?y.p(b,L):(y=Qe(b),y.c(),y.m(C,null)):y&&(y.d(1),y=null)},i:N,o:N,d(b){b&&(h(e),h(g),h(C)),w.d(),T.d(),z&&z.d(),k&&k.d(),y&&y.d()}}}function yt(s,e,t){let{answer:n}=e,{answerContext:i}=e,{answerNumber:l}=e,{questionIsAnswered:r}=e,{submitAnswer:o}=e,{examMode:a}=e,{settingsShowAnswerStats:f}=e;var _,g,C=n.badgeText;const m=()=>o(n.id),p=()=>o(n.id),w=()=>t(7,g=g==="incorrect"?"":"incorrect"),M=()=>t(7,g=g==="correct"?"":"correct");return s.$$set=H=>{"answer"in H&&t(0,n=H.answer),"answerContext"in H&&t(1,i=H.answerContext),"answerNumber"in H&&t(9,l=H.answerNumber),"questionIsAnswered"in H&&t(2,r=H.questionIsAnswered),"submitAnswer"in H&&t(3,o=H.submitAnswer),"examMode"in H&&t(4,a=H.examMode),"settingsShowAnswerStats"in H&&t(5,f=H.settingsShowAnswerStats)},s.$$.update=()=>{s.$$.dirty&521&&(ke.unbind(`${C}, ${l}`,"questions"),ke(`${C}, ${l}`,"questions",function(){o(n.id)})),s.$$.dirty&23&&n&&(t(6,_=""),a?t(7,g=""):r?(t(7,g=""),i.isCorrectAnswer?t(6,_="border-success"):i.isSubmittedAnswer&&t(6,_="border-danger")):i.isSelectedAnswer&&(t(7,g=""),t(6,_="border-danger")))},[n,i,r,o,a,f,_,g,C,l,m,p,w,M]}class qt extends be{constructor(e){super(),_e(this,e,yt,Ct,ae,{answer:0,answerContext:1,answerNumber:9,questionIsAnswered:2,submitAnswer:3,examMode:4,settingsShowAnswerStats:5})}}function Lt(s){let e,t,n,i,l;return{c(){e=u("div"),t=u("div"),n=u("button"),n.textContent="Show answer",c(n,"type","button"),c(n,"class","btn btn-warning btn-sm w-100"),c(t,"class","col-md"),c(e,"class","row")},m(r,o){v(r,e,o),d(e,t),d(t,n),i||(l=I(n,"click",j(s[4])),i=!0)},p:N,d(r){r&&h(e),i=!1,l()}}}function Mt(s){let e,t,n=V.sanitize(s[0].text)+"",i,l,r=!s[1]&&Fe(s);return{c(){e=u("div"),t=u("p"),i=q(),r&&r.c(),l=ee(),c(t,"class","p-1"),te(e,"box-shadow","4px 4px rgba(0,0,0,.2)"),c(e,"class","row border-start border-3 rounded bg-secondary-subtle m-1 mb-3 p-2")},m(o,a){v(o,e,a),d(e,t),t.innerHTML=n,v(o,i,a),r&&r.m(o,a),v(o,l,a)},p(o,a){a&1&&n!==(n=V.sanitize(o[0].text)+"")&&(t.innerHTML=n),o[1]?r&&(r.d(1),r=null):r?r.p(o,a):(r=Fe(o),r.c(),r.m(l.parentNode,l))},d(o){o&&(h(e),h(i),h(l)),r&&r.d(o)}}}function Fe(s){let e,t,n,i,l,r,o,a;return{c(){e=u("div"),t=u("div"),n=u("button"),n.textContent="✗ Ask me again",i=q(),l=u("div"),r=u("button"),r.textContent="✓ OK",c(n,"type","button"),c(n,"class","btn btn-danger btn-sm w-100"),c(t,"class","col-md-6 mb-1"),c(r,"type","button"),c(r,"class","btn btn-success btn-sm w-100"),c(l,"class","col-md-6 mb-1"),c(e,"class","row")},m(f,_){v(f,e,_),d(e,t),d(t,n),d(e,i),d(e,l),d(l,r),o||(a=[I(n,"click",j(s[5])),I(r,"click",j(s[6]))],o=!0)},p:N,d(f){f&&h(e),o=!1,he(a)}}}function Tt(s){let e;function t(l,r){return l[3]?Mt:Lt}let n=t(s),i=n(s);return{c(){i.c(),e=ee()},m(l,r){i.m(l,r),v(l,e,r)},p(l,[r]){n===(n=t(l))&&i?i.p(l,r):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},i:N,o:N,d(l){l&&h(e),i.d(l)}}}function Ht(s,e,t){let{answer:n}=e,{hasAnswer:i}=e,{submitAnswer:l}=e;var r=!1;function o(){t(3,r=!r)}const a=()=>l(),f=()=>l(n.id);return s.$$set=_=>{"answer"in _&&t(0,n=_.answer),"hasAnswer"in _&&t(1,i=_.hasAnswer),"submitAnswer"in _&&t(2,l=_.submitAnswer)},s.$$.update=()=>{s.$$.dirty&2&&(i?t(3,r=!0):t(3,r=!1))},[n,i,l,r,o,a,f]}class Nt extends be{constructor(e){super(),_e(this,e,Ht,Tt,ae,{answer:0,hasAnswer:1,submitAnswer:2})}}function Oe(s){let e,t,n,i,l,r,o,a;return{c(){e=u("div"),t=u("div"),n=u("button"),n.textContent="Ask me again",i=q(),l=u("div"),r=u("button"),r.textContent="I got it!",c(n,"type","button"),c(n,"class","btn btn-danger btn-sm w-100"),c(t,"class","col-md-6 mb-1"),c(r,"type","button"),c(r,"class","btn btn-success btn-sm w-100"),c(l,"class","col-md-6 mb-1"),c(e,"class","row")},m(f,_){v(f,e,_),d(e,t),d(t,n),d(e,i),d(e,l),d(l,r),o||(a=[I(n,"click",j(s[2])),I(r,"click",j(s[3]))],o=!0)},p:N,d(f){f&&h(e),o=!1,he(a)}}}function zt(s){let e,t=!s[0]&&Oe(s);return{c(){t&&t.c(),e=ee()},m(n,i){t&&t.m(n,i),v(n,e,i)},p(n,[i]){n[0]?t&&(t.d(1),t=null):t?t.p(n,i):(t=Oe(n),t.c(),t.m(e.parentNode,e))},i:N,o:N,d(n){n&&h(e),t&&t.d(n)}}}function Dt(s,e,t){let{hasAnswer:n}=e,{submitAnswer:i}=e;const l=()=>i(),r=()=>i(-1);return s.$$set=o=>{"hasAnswer"in o&&t(0,n=o.hasAnswer),"submitAnswer"in o&&t(1,i=o.submitAnswer)},[n,i,l,r]}class It extends be{constructor(e){super(),_e(this,e,Dt,zt,ae,{hasAnswer:0,submitAnswer:1})}}function Ve(s,e,t){const n=s.slice();return n[7]=e[t],n}function Et(s){let e,t,n,i,l,r,o,a,f;return{c(){e=u("div"),t=u("p"),n=u("button"),i=q(),l=u("div"),r=u("img"),c(n,"type","button"),c(n,"class","btn-close"),c(t,"class","bg-white text-end"),c(r,"class","img-fluid border border-5 border-white"),Ae(r.src,o="/"+s[2].path)||c(r,"src",o),c(r,"alt",""),c(l,"class","text-center"),c(e,"class","img-fullscreen svelte-z0la5k")},m(_,g){v(_,e,g),d(e,t),d(t,n),d(e,i),d(e,l),d(l,r),a||(f=[I(n,"click",j(s[5])),I(e,"click",s[3])],a=!0)},p(_,g){g&4&&!Ae(r.src,o="/"+_[2].path)&&c(r,"src",o)},d(_){_&&h(e),a=!1,he(f)}}}function Qt(s){let e,t,n=[],i=new Map,l=le(s[0]);const r=o=>o[7].id;for(let o=0;o<l.length;o+=1){let a=Ve(s,l,o),f=r(a);i.set(f,n[o]=je(f,a))}return{c(){e=u("div"),t=u("div");for(let o=0;o<n.length;o+=1)n[o].c();c(t,"class","row row-cols-1 row-cols-sm-3 g-4"),c(e,"class","col-lg")},m(o,a){v(o,e,a),d(e,t);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null)},p(o,a){a&9&&(l=le(o[0]),n=at(n,a,r,1,o,l,i,t,ft,je,null,Ve))},d(o){o&&h(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function je(s,e){let t,n,i,l,r,o,a;function f(){return e[4](e[7])}return{key:s,first:null,c(){t=u("div"),n=u("div"),i=u("img"),r=q(),Ae(i.src,l="/"+e[7].path)||c(i,"src",l),c(i,"class","card-img-top"),c(i,"alt",""),c(n,"class","card"),te(n,"max-width","18rem"),te(n,"cursor","pointer"),c(t,"class","col"),this.first=t},m(_,g){v(_,t,g),d(t,n),d(n,i),d(t,r),o||(a=I(i,"click",f),o=!0)},p(_,g){e=_,g&1&&!Ae(i.src,l="/"+e[7].path)&&c(i,"src",l)},d(_){_&&h(t),o=!1,a()}}}function Ft(s){let e;function t(l,r){return l[1]?Et:Qt}let n=t(s),i=n(s);return{c(){i.c(),e=ee()},m(l,r){i.m(l,r),v(l,e,r)},p(l,[r]){n===(n=t(l))&&i?i.p(l,r):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},i:N,o:N,d(l){l&&h(e),i.d(l)}}}function Ot(s,e,t){let{images:n=[]}=e;var i=!1,l;ot(()=>{ke("esc","images",function(_,g){i&&t(1,i=!1)})});var r;function o(_){r&&r.cancel(),r=dt(()=>{t(1,i=!i),t(2,l=n.find(g=>g.id===_))},100,{maxWait:200}),r()}const a=_=>o(_.id),f=()=>t(1,i=!i);return s.$$set=_=>{"images"in _&&t(0,n=_.images)},s.$$.update=()=>{s.$$.dirty&2&&(i?ke.setScope("images"):ke.setScope("questions"))},[n,i,l,o,a,f]}class Vt extends be{constructor(e){super(),_e(this,e,Ot,Ft,ae,{images:0})}}function Ue(s,e,t){const n=s.slice();return n[19]=e[t],n}function Be(s,e,t){const n=s.slice();return n[19]=e[t],n}function jt(s){let e;return{c(){e=u("div"),e.innerHTML='<div class="spinner-border text-secondary" role="status"><span class="visually-hidden">Loading decks ...</span></div>',c(e,"class","d-flex justify-content-center")},m(t,n){v(t,e,n)},p:N,d(t){t&&h(e)}}}function Ut(s){let e,t,n,i,l,r=s[0].length+s[1].length>10&&Ke(s),o=le(s[3]),a=[];for(let m=0;m<o.length;m+=1)a[m]=Pe(Be(s,o,m));let f=s[6].length>0&&s[3].length>0&&Re(),_=le(s[6]),g=[];for(let m=0;m<_.length;m+=1)g[m]=Ge(Ue(s,_,m));let C=s[6].length===0&&s[3].length===0&&Je();return{c(){r&&r.c(),e=q();for(let m=0;m<a.length;m+=1)a[m].c();t=q(),f&&f.c(),n=q();for(let m=0;m<g.length;m+=1)g[m].c();i=q(),C&&C.c(),l=ee()},m(m,p){r&&r.m(m,p),v(m,e,p);for(let w=0;w<a.length;w+=1)a[w]&&a[w].m(m,p);v(m,t,p),f&&f.m(m,p),v(m,n,p);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(m,p);v(m,i,p),C&&C.m(m,p),v(m,l,p)},p(m,p){if(m[0].length+m[1].length>10?r?r.p(m,p):(r=Ke(m),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),p&264){o=le(m[3]);let w;for(w=0;w<o.length;w+=1){const M=Be(m,o,w);a[w]?a[w].p(M,p):(a[w]=Pe(M),a[w].c(),a[w].m(t.parentNode,t))}for(;w<a.length;w+=1)a[w].d(1);a.length=o.length}if(m[6].length>0&&m[3].length>0?f||(f=Re(),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),p&192){_=le(m[6]);let w;for(w=0;w<_.length;w+=1){const M=Ue(m,_,w);g[w]?g[w].p(M,p):(g[w]=Ge(M),g[w].c(),g[w].m(i.parentNode,i))}for(;w<g.length;w+=1)g[w].d(1);g.length=_.length}m[6].length===0&&m[3].length===0?C||(C=Je(),C.c(),C.m(l.parentNode,l)):C&&(C.d(1),C=null)},d(m){m&&(h(e),h(t),h(n),h(i),h(l)),r&&r.d(m),Ie(a,m),f&&f.d(m),Ie(g,m),C&&C.d(m)}}}function Ke(s){let e,t,n;return{c(){e=u("input"),c(e,"type","text"),c(e,"class","form-control mb-3"),c(e,"placeholder","Filter decks ...")},m(i,l){v(i,e,l),s[11](e),Se(e,s[2]),t||(n=I(e,"input",s[12]),t=!0)},p(i,l){l&4&&e.value!==i[2]&&Se(e,i[2])},d(i){i&&h(e),s[11](null),t=!1,n()}}}function Pe(s){let e,t,n,i=s[19].name+"",l,r,o,a,f,_,g;function C(){return s[13](s[19])}return{c(){e=u("div"),t=u("div"),n=u("a"),l=de(i),o=q(),a=u("div"),f=u("button"),f.textContent="Remove",c(n,"href",r="/decks/"+s[19].id),c(n,"class","link-dark"),c(t,"class","col-9 text-truncate"),c(f,"class","btn btn-sm btn-outline-secondary float-end"),c(a,"class","col-3 d-grid gap-4"),c(e,"class","row mb-1")},m(m,p){v(m,e,p),d(e,t),d(t,n),d(n,l),d(e,o),d(e,a),d(a,f),_||(g=I(f,"click",j(C)),_=!0)},p(m,p){s=m,p&8&&i!==(i=s[19].name+"")&&qe(l,i),p&8&&r!==(r="/decks/"+s[19].id)&&c(n,"href",r)},d(m){m&&h(e),_=!1,g()}}}function Re(s){let e;return{c(){e=u("hr")},m(t,n){v(t,e,n)},d(t){t&&h(e)}}}function Ge(s){let e,t,n,i=s[19].name+"",l,r,o,a,f,_,g;function C(){return s[14](s[19])}return{c(){e=u("div"),t=u("div"),n=u("a"),l=de(i),o=q(),a=u("div"),f=u("button"),f.textContent="Add",c(n,"href",r="/decks/"+s[19].id),c(n,"class","link-dark"),c(t,"class","col-9 text-truncate"),c(f,"class","btn btn-sm btn-primary float-end"),c(a,"class","col-3 d-grid gap-4"),c(e,"class","row mb-1")},m(m,p){v(m,e,p),d(e,t),d(t,n),d(n,l),d(e,o),d(e,a),d(a,f),_||(g=I(f,"click",j(C)),_=!0)},p(m,p){s=m,p&64&&i!==(i=s[19].name+"")&&qe(l,i),p&64&&r!==(r="/decks/"+s[19].id)&&c(n,"href",r)},d(m){m&&h(e),_=!1,g()}}}function Je(s){let e;return{c(){e=u("div"),e.textContent="No decks found",c(e,"class","alert alert-light text-center"),c(e,"role","alert")},m(t,n){v(t,e,n)},d(t){t&&h(e)}}}function Bt(s){let e,t,n,i,l,r,o,a,f,_,g,C,m,p,w,M,H,T,z;function X(y,b){return y[0]?Ut:jt}let D=X(s),k=D(s);return{c(){e=u("button"),e.innerHTML='<i class="bi bi-collection"></i> Add to deck',t=q(),n=u("div"),i=u("div"),i.innerHTML='<h5 id="offcanvasAddToDeckLabel">Add question to deck</h5> <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>',l=q(),r=u("div"),k.c(),o=q(),a=u("hr"),f=q(),_=u("div"),g=u("div"),C=u("p"),C.textContent="Create new deck:",m=q(),p=u("div"),w=u("input"),M=q(),H=u("button"),H.textContent="Create deck and add question",c(e,"class","btn btn-outline-secondary btn-sm"),c(e,"type","button"),c(e,"data-bs-toggle","offcanvas"),c(e,"data-bs-target","#offcanvasAddToDeck"),c(e,"aria-controls","offcanvasAddToDeck"),c(i,"class","offcanvas-header"),c(w,"type","text"),c(w,"class","form-control"),c(w,"id","name"),c(w,"name","name"),c(w,"placeholder","My new deck ..."),c(p,"class","mb-2"),c(H,"class","btn btn-sm btn-primary mb-3"),c(g,"class","col"),c(_,"class","row sticky-bottom bg-white mt-3"),c(r,"class","offcanvas-body pb-0"),c(n,"class","offcanvas offcanvas-end"),c(n,"tabindex","-1"),c(n,"id","offcanvasAddToDeck"),c(n,"aria-labelledby","offcanvasAddToDeckLabel")},m(y,b){v(y,e,b),v(y,t,b),v(y,n,b),d(n,i),d(n,l),d(n,r),k.m(r,null),d(r,o),d(r,a),d(r,f),d(r,_),d(_,g),d(g,C),d(g,m),d(g,p),d(p,w),Se(w,s[4]),d(g,M),d(g,H),T||(z=[I(w,"input",s[15]),I(H,"click",j(s[16]))],T=!0)},p(y,[b]){D===(D=X(y))&&k?k.p(y,b):(k.d(1),k=D(y),k&&(k.c(),k.m(r,o))),b&16&&w.value!==y[4]&&Se(w,y[4])},i:N,o:N,d(y){y&&(h(e),h(t),h(n)),k.d(),T=!1,he(z)}}}function Kt(s,e,t){let{questionId:n}=e,i,l,r="",o,a="",f=[],_=[];ot(()=>{const k=document.getElementById("offcanvasAddToDeck");k.addEventListener("show.bs.offcanvas",y=>{g()}),k.addEventListener("shown.bs.offcanvas",y=>{w()}),k.addEventListener("hidden.bs.offcanvas",y=>{t(0,i=void 0),t(1,l=void 0),t(2,a="")})});function g(){axios.get("/api/decks/withquestionids").then(function(k){var y=k.data;t(0,i=[]),t(1,l=[]),y.forEach(b=>{b.questions.some(L=>L.id===n)?t(0,i=[...i,{id:b.id,name:b.name}]):t(1,l=[...l,{id:b.id,name:b.name}])})}).catch(function(k){console.log(k),alert(k)})}function C(k){axios.post("/api/decks/"+k+"/addquestion",{question_id:n}).then(function(y){const b=l.find(L=>L.id===k);t(0,i=[...i,b]),t(1,l=l.filter(L=>L.id!==k))}).catch(function(y){alert(y)})}function m(k){axios.post("/api/decks/"+k+"/removequestion",{question_id:n}).then(function(y){const b=i.find(L=>L.id===k);t(1,l=[...l,b]),t(0,i=i.filter(L=>L.id!==k))}).catch(function(y){alert(y)})}function p(){r&&axios.post("/api/decks",{name:r}).then(function(k){const y=k.data;t(1,l=[...l,y]),C(y.id),t(4,r="")}).catch(function(k){alert(k)})}function w(){o&&o.focus()}function M(k){ie[k?"unshift":"push"](()=>{o=k,t(5,o)})}function H(){a=this.value,t(2,a)}const T=k=>m(k.id),z=k=>C(k.id);function X(){r=this.value,t(4,r)}const D=()=>p();return s.$$set=k=>{"questionId"in k&&t(10,n=k.questionId)},s.$$.update=()=>{s.$$.dirty&6&&t(6,f=l==null?void 0:l.filter(k=>k.name.toLowerCase().includes(a.toLowerCase()))),s.$$.dirty&5&&t(3,_=i==null?void 0:i.filter(k=>k.name.toLowerCase().includes(a.toLowerCase()))),s.$$.dirty&8&&w()},[i,l,a,_,r,o,f,C,m,p,n,M,H,T,z,X,D]}class Pt extends be{constructor(e){super(),_e(this,e,Kt,Bt,ae,{questionId:10})}}function We(s,e,t){const n=s.slice();return n[23]=e[t],n[24]=e,n[25]=t,n}function Rt(s){let e;return{c(){e=u("p"),e.textContent="Loading ..."},m(t,n){v(t,e,n)},p:N,i:N,o:N,d(t){t&&h(e)}}}function Gt(s){let e,t,n,i;const l=[Wt,Jt],r=[];function o(a,f){return a[9]?0:1}return e=o(s),t=r[e]=l[e](s),{c(){t.c(),n=ee()},m(a,f){r[e].m(a,f),v(a,n,f),i=!0},p(a,f){let _=e;e=o(a),e===_?r[e].p(a,f):(fe(),O(r[_],1,1,()=>{r[_]=null}),ue(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),F(t,1),t.m(n.parentNode,n))},i(a){i||(F(t),i=!0)},o(a){O(t),i=!1},d(a){a&&h(n),r[e].d(a)}}}function Jt(s){let e,t,n,i,l,r,o,a,f,_,g,C,m,p,w,M,H,T,z,X,D,k,y,b,L,A,$,ge,ne,Le,Me,Te=s[0].id,He,ve,ce,Ce,Ne,Y=s[0].is_invalid&&Xe(),Z=s[0].needs_review&&Ye(),U=s[0].case&&Ze(s),B=s[0].text&&xe(s),E=s[0].images&&s[0].images.length>0&&$e(s),K=!s[3]&&s[0].hint&&et(s);const ze=[$t,xt,Zt],se=[];function De(S,Q){return S[0].type==="mc"?0:S[0].answers.length===0?1:2}f=De(s),_=se[f]=ze[f](s);let P=!s[3]&&s[1].isAnswered&&s[0].comment&&nt(s),R=s[1].isAnswered&&s[6]!==-1&&st(s),G=s[5]&&it(s),x=lt(s),J=!s[1].isAnswered&&!s[3]&&s[0].type!=="card"&&rt(s);return{c(){e=u("div"),Y&&Y.c(),t=q(),Z&&Z.c(),n=q(),U&&U.c(),i=q(),l=u("div"),B&&B.c(),r=q(),E&&E.c(),o=q(),K&&K.c(),a=q(),_.c(),g=q(),P&&P.c(),C=q(),m=u("div"),p=u("div"),w=u("div"),M=u("button"),M.textContent="More",H=q(),T=u("ul"),R&&R.c(),z=q(),X=u("li"),D=u("a"),k=u("i"),y=de(" Open in new tab"),L=q(),A=u("li"),A.innerHTML='<hr class="dropdown-divider"/>',$=q(),ge=u("li"),ne=u("button"),ne.innerHTML='<i class="bi bi-pencil"></i> Edit question',Le=q(),G&&G.c(),Me=q(),x.c(),He=q(),J&&J.c(),c(l,"class","row border-start border-3 border-dark m-1 mb-3 pt-2"),c(M,"class","btn btn-outline-secondary btn-sm dropdown-toggle"),c(M,"type","button"),c(M,"data-bs-toggle","dropdown"),c(M,"aria-expanded","false"),c(k,"class","bi bi-box-arrow-up-right"),c(D,"class","dropdown-item btn btn-sm"),c(D,"href",b="/questions/"+s[0].id),c(D,"target","_blank"),c(D,"role","button"),c(ne,"type","button"),c(ne,"class","dropdown-item btn btn-sm"),c(T,"class","dropdown-menu"),c(w,"class","btn-group me-1"),c(p,"class","d-flex justify-content-end"),c(m,"class","row mt-1 mb-1 pt-2"),c(e,"id",ve="question"+s[0].id),c(e,"class","px-2 py-2 border rounded-3 shadow-sm bg-light-subtle"),c(e,"style","")},m(S,Q){v(S,e,Q),Y&&Y.m(e,null),d(e,t),Z&&Z.m(e,null),d(e,n),U&&U.m(e,null),d(e,i),d(e,l),B&&B.m(l,null),d(l,r),E&&E.m(l,null),d(e,o),K&&K.m(e,null),d(e,a),se[f].m(e,null),d(e,g),P&&P.m(e,null),d(e,C),d(e,m),d(m,p),d(p,w),d(w,M),d(w,H),d(w,T),R&&R.m(T,null),d(T,z),d(T,X),d(X,D),d(D,k),d(D,y),d(T,L),d(T,A),d(T,$),d(T,ge),d(ge,ne),d(T,Le),G&&G.m(T,null),d(p,Me),x.m(p,null),d(e,He),J&&J.m(e,null),ce=!0,Ce||(Ne=I(ne,"click",j(s[11])),Ce=!0)},p(S,Q){S[0].is_invalid?Y||(Y=Xe(),Y.c(),Y.m(e,t)):Y&&(Y.d(1),Y=null),S[0].needs_review?Z||(Z=Ye(),Z.c(),Z.m(e,n)):Z&&(Z.d(1),Z=null),S[0].case?U?U.p(S,Q):(U=Ze(S),U.c(),U.m(e,i)):U&&(U.d(1),U=null),S[0].text?B?B.p(S,Q):(B=xe(S),B.c(),B.m(l,r)):B&&(B.d(1),B=null),S[0].images&&S[0].images.length>0?E?(E.p(S,Q),Q&1&&F(E,1)):(E=$e(S),E.c(),F(E,1),E.m(l,null)):E&&(fe(),O(E,1,1,()=>{E=null}),ue()),!S[3]&&S[0].hint?K?K.p(S,Q):(K=et(S),K.c(),K.m(e,a)):K&&(K.d(1),K=null);let ye=f;f=De(S),f===ye?se[f].p(S,Q):(fe(),O(se[ye],1,1,()=>{se[ye]=null}),ue(),_=se[f],_?_.p(S,Q):(_=se[f]=ze[f](S),_.c()),F(_,1),_.m(e,g)),!S[3]&&S[1].isAnswered&&S[0].comment?P?P.p(S,Q):(P=nt(S),P.c(),P.m(e,C)):P&&(P.d(1),P=null),S[1].isAnswered&&S[6]!==-1?R?R.p(S,Q):(R=st(S),R.c(),R.m(T,z)):R&&(R.d(1),R=null),(!ce||Q&1&&b!==(b="/questions/"+S[0].id))&&c(D,"href",b),S[5]?G?G.p(S,Q):(G=it(S),G.c(),G.m(T,null)):G&&(G.d(1),G=null),Q&1&&ae(Te,Te=S[0].id)?(fe(),O(x,1,1,N),ue(),x=lt(S),x.c(),F(x,1),x.m(p,null)):x.p(S,Q),!S[1].isAnswered&&!S[3]&&S[0].type!=="card"?J?J.p(S,Q):(J=rt(S),J.c(),J.m(e,null)):J&&(J.d(1),J=null),(!ce||Q&1&&ve!==(ve="question"+S[0].id))&&c(e,"id",ve)},i(S){ce||(F(E),F(_),F(x),ce=!0)},o(S){O(E),O(_),O(x),ce=!1},d(S){S&&h(e),Y&&Y.d(),Z&&Z.d(),U&&U.d(),B&&B.d(),E&&E.d(),K&&K.d(),se[f].d(),P&&P.d(),R&&R.d(),G&&G.d(),x.d(S),J&&J.d(),Ce=!1,Ne()}}}function Wt(s){let e,t,n,i;function l(o){s[14](o)}let r={toggleEditor:s[11]};return s[0]!==void 0&&(r.question=s[0]),t=new _t({props:r}),ie.push(()=>re(t,"question",l)),{c(){e=u("div"),pe(t.$$.fragment),c(e,"class","my-4 pt-1 pb-1 border-dark"),te(e,"border-top","dotted"),te(e,"border-bottom","dotted"),te(e,"border-width","1px")},m(o,a){v(o,e,a),we(t,e,null),i=!0},p(o,a){const f={};!n&&a&1&&(n=!0,f.question=o[0],oe(()=>n=!1)),t.$set(f)},i(o){i||(F(t.$$.fragment,o),i=!0)},o(o){O(t.$$.fragment,o),i=!1},d(o){o&&h(e),me(t)}}}function Xe(s){let e;return{c(){e=u("div"),e.innerHTML='<div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-cone-striped"></i> <strong>Question is marked invalid</strong> and safe to skip!</div></div>',c(e,"class","row")},m(t,n){v(t,e,n)},d(t){t&&h(e)}}}function Ye(s){let e;return{c(){e=u("div"),e.innerHTML='<div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-eraser-fill"></i> <strong>Question needs review</strong> - Please review the question and answer choices and make sure they are correct and clear. Afterwards, remove the &quot;Needs review&quot; flag.</div></div>',c(e,"class","row")},m(t,n){v(t,e,n)},d(t){t&&h(e)}}}function Ze(s){let e,t,n,i,l=V.sanitize(s[0].case.text)+"";return{c(){e=u("div"),t=u("p"),t.innerHTML='<i class="bi bi-clipboard2-pulse"></i> CASE',n=q(),i=u("p"),c(t,"class","small fw-bold"),c(i,"class","trix-content"),te(e,"box-shadow","4px 4px rgba(0,0,0,.2)"),c(e,"class","alert alert-secondary"),c(e,"role","alert")},m(r,o){v(r,e,o),d(e,t),d(e,n),d(e,i),i.innerHTML=l},p(r,o){o&1&&l!==(l=V.sanitize(r[0].case.text)+"")&&(i.innerHTML=l)},d(r){r&&h(e)}}}function xe(s){let e,t,n=V.sanitize(s[0].text)+"";return{c(){e=u("div"),t=u("p"),c(t,"id","questionText"),c(t,"class","trix-content"),c(e,"class","col-lg")},m(i,l){v(i,e,l),d(e,t),t.innerHTML=n},p(i,l){l&1&&n!==(n=V.sanitize(i[0].text)+"")&&(t.innerHTML=n)},d(i){i&&h(e)}}}function $e(s){let e,t,n;function i(r){s[15](r)}let l={};return s[0].images!==void 0&&(l.images=s[0].images),e=new Vt({props:l}),ie.push(()=>re(e,"images",i)),{c(){pe(e.$$.fragment)},m(r,o){we(e,r,o),n=!0},p(r,o){const a={};!t&&o&1&&(t=!0,a.images=r[0].images,oe(()=>t=!1)),e.$set(a)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){O(e.$$.fragment,r),n=!1},d(r){me(e,r)}}}function et(s){let e;function t(l,r){return l[10]?Yt:Xt}let n=t(s),i=n(s);return{c(){i.c(),e=ee()},m(l,r){i.m(l,r),v(l,e,r)},p(l,r){n===(n=t(l))&&i?i.p(l,r):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){l&&h(e),i.d(l)}}}function Xt(s){let e,t,n;return{c(){e=u("button"),e.innerHTML='<i class="bi bi-question-circle"></i> Show hint',c(e,"type","button"),c(e,"class","btn btn-outline-secondary btn-sm mb-3")},m(i,l){v(i,e,l),t||(n=I(e,"click",j(s[16])),t=!0)},p:N,d(i){i&&h(e),t=!1,n()}}}function Yt(s){let e,t,n=V.sanitize(s[0].hint)+"";return{c(){e=u("div"),t=u("p"),c(e,"class","row border-start border-3 border-secondary-subtle m-1 mt-3 mb-3")},m(i,l){v(i,e,l),d(e,t),t.innerHTML=n},p(i,l){l&1&&n!==(n=V.sanitize(i[0].hint)+"")&&(t.innerHTML=n)},d(i){i&&h(e)}}}function Zt(s){let e,t,n;function i(r){s[21](r)}let l={submitAnswer:s[7],hasAnswer:!!s[6]};return s[0].answers[0]!==void 0&&(l.answer=s[0].answers[0]),e=new Nt({props:l}),ie.push(()=>re(e,"answer",i)),{c(){pe(e.$$.fragment)},m(r,o){we(e,r,o),n=!0},p(r,o){const a={};o&128&&(a.submitAnswer=r[7]),o&64&&(a.hasAnswer=!!r[6]),!t&&o&1&&(t=!0,a.answer=r[0].answers[0],oe(()=>t=!1)),e.$set(a)},i(r){n||(F(e.$$.fragment,r),n=!0)},o(r){O(e.$$.fragment,r),n=!1},d(r){me(e,r)}}}function xt(s){let e,t;return e=new It({props:{submitAnswer:s[7],hasAnswer:!!s[6]}}),{c(){pe(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p(n,i){const l={};i&128&&(l.submitAnswer=n[7]),i&64&&(l.hasAnswer=!!n[6]),e.$set(l)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function $t(s){let e=[],t=new Map,n,i,l=le(s[0].answers);const r=o=>o[23].id;for(let o=0;o<l.length;o+=1){let a=We(s,l,o),f=r(a);t.set(f,e[o]=tt(f,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ee()},m(o,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,a);v(o,n,a),i=!0},p(o,a){a&155&&(l=le(o[0].answers),fe(),e=at(e,a,r,1,o,l,t,n.parentNode,ut,tt,n,We),ue())},i(o){if(!i){for(let a=0;a<l.length;a+=1)F(e[a]);i=!0}},o(o){for(let a=0;a<e.length;a+=1)O(e[a]);i=!1},d(o){o&&h(n);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function tt(s,e){let t,n,i,l,r,o,a;function f(p){e[17](p,e[23],e[24],e[25])}function _(p){e[18](p,e[23])}function g(p){e[19](p)}function C(p){e[20](p)}let m={submitAnswer:e[7],questionIsAnswered:e[1].isAnswered,answerNumber:e[25]+1};return e[23]!==void 0&&(m.answer=e[23]),e[1].answerContext[e[23].id]!==void 0&&(m.answerContext=e[1].answerContext[e[23].id]),e[3]!==void 0&&(m.examMode=e[3]),e[4]!==void 0&&(m.settingsShowAnswerStats=e[4]),n=new qt({props:m}),ie.push(()=>re(n,"answer",f)),ie.push(()=>re(n,"answerContext",_)),ie.push(()=>re(n,"examMode",g)),ie.push(()=>re(n,"settingsShowAnswerStats",C)),{key:s,first:null,c(){t=ee(),pe(n.$$.fragment),this.first=t},m(p,w){v(p,t,w),we(n,p,w),a=!0},p(p,w){e=p;const M={};w&128&&(M.submitAnswer=e[7]),w&2&&(M.questionIsAnswered=e[1].isAnswered),w&1&&(M.answerNumber=e[25]+1),!i&&w&1&&(i=!0,M.answer=e[23],oe(()=>i=!1)),!l&&w&3&&(l=!0,M.answerContext=e[1].answerContext[e[23].id],oe(()=>l=!1)),!r&&w&8&&(r=!0,M.examMode=e[3],oe(()=>r=!1)),!o&&w&16&&(o=!0,M.settingsShowAnswerStats=e[4],oe(()=>o=!1)),n.$set(M)},i(p){a||(F(n.$$.fragment,p),a=!0)},o(p){O(n.$$.fragment,p),a=!1},d(p){p&&h(t),me(n,p)}}}function nt(s){let e,t,n,i=V.sanitize(s[0].comment)+"";return{c(){e=u("div"),t=u("div"),n=u("div"),c(n,"class","alert alert-secondary mt-1 trix-content"),c(n,"role","alert"),c(t,"class","col"),c(e,"class","row")},m(l,r){v(l,e,r),d(e,t),d(t,n),n.innerHTML=i},p(l,r){r&1&&i!==(i=V.sanitize(l[0].comment)+"")&&(n.innerHTML=i)},d(l){l&&h(e)}}}function st(s){let e,t,n,i;return{c(){e=u("li"),t=u("button"),t.innerHTML='<i class="bi bi-arrow-counterclockwise"></i> Reset answer',c(t,"type","button"),c(t,"class","dropdown-item btn btn-sm")},m(l,r){v(l,e,r),d(e,t),n||(i=I(t,"click",j(function(){ct(s[8])&&s[8].apply(this,arguments)})),n=!0)},p(l,r){s=l},d(l){l&&h(e),n=!1,i()}}}function it(s){let e,t,n,i,l,r,o;return{c(){e=u("li"),e.innerHTML='<hr class="dropdown-divider"/>',t=q(),n=u("li"),i=u("a"),l=u("i"),r=de(" Open in deck editor"),c(l,"class","bi bi-collection"),c(i,"class","dropdown-item btn btn-sm"),c(i,"href",o="/decks/"+s[5]+"/questions/edit?question_id="+s[0].id),c(i,"role","button")},m(a,f){v(a,e,f),v(a,t,f),v(a,n,f),d(n,i),d(i,l),d(i,r)},p(a,f){f&33&&o!==(o="/decks/"+a[5]+"/questions/edit?question_id="+a[0].id)&&c(i,"href",o)},d(a){a&&(h(e),h(t),h(n))}}}function lt(s){let e,t;return e=new Pt({props:{questionId:s[0].id}}),{c(){pe(e.$$.fragment)},m(n,i){we(e,n,i),t=!0},p(n,i){const l={};i&1&&(l.questionId=n[0].id),e.$set(l)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function rt(s){let e,t,n,i;return{c(){e=u("div"),t=u("button"),t.textContent="→ Show answer",c(t,"type","button"),c(t,"class","btn btn-outline-secondary btn-sm"),c(e,"class","mt-3")},m(l,r){v(l,e,r),d(e,t),n||(i=I(t,"click",j(s[22])),n=!0)},p:N,d(l){l&&h(e),n=!1,i()}}}function en(s){let e,t,n,i;const l=[Gt,Rt],r=[];function o(a,f){return a[0]?0:1}return e=o(s),t=r[e]=l[e](s),{c(){t.c(),n=ee()},m(a,f){r[e].m(a,f),v(a,n,f),i=!0},p(a,[f]){let _=e;e=o(a),e===_?r[e].p(a,f):(fe(),O(r[_],1,1,()=>{r[_]=null}),ue(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),F(t,1),t.m(n.parentNode,n))},i(a){i||(F(t),i=!0)},o(a){O(t),i=!1},d(a){a&&h(n),r[e].d(a)}}}function tn(s){const e=s.target;!e.classList.contains("bg-danger-subtle")&&!e.classList.contains("bg-warning-subtle")&&!e.classList.contains("bg-success-subtle")?e.classList.add("bg-success-subtle"):e.classList.contains("bg-success-subtle")?(e.classList.remove("bg-success-subtle"),e.classList.add("bg-danger-subtle")):e.classList.contains("bg-danger-subtle")?(e.classList.remove("bg-danger-subtle"),e.classList.add("bg-warning-subtle")):e.classList.contains("bg-warning-subtle")&&e.classList.remove("bg-warning-subtle")}function nn(s,e,t){let{deckId:n}=e,{question:i}=e,{questionContext:l}=e,{helpUsed:r}=e,{answerChoice:o}=e,{submitAnswer:a}=e,{deleteAnswer:f}=e,{examMode:_}=e,{updateCurrentQuestionData:g}=e,{settingsShuffleAnswers:C}=e,{settingsShowAnswerStats:m}=e;var p=!1,w=l.isAnswered;function M(){const A=!p;A&&g?g().then(()=>{t(9,p=A)}):t(9,p=A)}function H(A){i=A,t(0,i),t(13,C),t(1,l)}function T(A){s.$$.not_equal(i.images,A)&&(i.images=A,t(0,i),t(13,C),t(1,l))}const z=()=>{t(10,w=!0),t(2,r=!0)};function X(A,$,ge,ne){ge[ne]=A,t(0,i),t(13,C),t(1,l)}function D(A,$){s.$$.not_equal(l.answerContext[$.id],A)&&(l.answerContext[$.id]=A,t(1,l))}function k(A){_=A,t(3,_)}function y(A){m=A,t(4,m)}function b(A){s.$$.not_equal(i.answers[0],A)&&(i.answers[0]=A,t(0,i),t(13,C),t(1,l))}const L=()=>a();return s.$$set=A=>{"deckId"in A&&t(5,n=A.deckId),"question"in A&&t(0,i=A.question),"questionContext"in A&&t(1,l=A.questionContext),"helpUsed"in A&&t(2,r=A.helpUsed),"answerChoice"in A&&t(6,o=A.answerChoice),"submitAnswer"in A&&t(7,a=A.submitAnswer),"deleteAnswer"in A&&t(8,f=A.deleteAnswer),"examMode"in A&&t(3,_=A.examMode),"updateCurrentQuestionData"in A&&t(12,g=A.updateCurrentQuestionData),"settingsShuffleAnswers"in A&&t(13,C=A.settingsShuffleAnswers),"settingsShowAnswerStats"in A&&t(4,m=A.settingsShowAnswerStats)},s.$$.update=()=>{s.$$.dirty&8195&&(i.answers.forEach((A,$)=>{A.badgeText="ABCDEFGHIJKLMN".charAt($)}),i&&i.type==="mc"&&C&&!l.isAnswered&&!Object.values(l.answerContext).some(A=>A.isSelectedAnswer)&&t(0,i.answers=bt.shuffle(i.answers),i)),s.$$.dirty&3&&(t(10,w=l.isAnswered),t(2,r=l.isAnswered)),s.$$.dirty&1&&(()=>{var A=document.querySelectorAll("#questionText li");[].map.call(A,function($){$.addEventListener("click",tn,!1)})})()},[i,l,r,_,m,n,o,a,f,p,w,M,g,C,H,T,z,X,D,k,y,b,L]}class cn extends be{constructor(e){super(),_e(this,e,nn,en,ae,{deckId:5,question:0,questionContext:1,helpUsed:2,answerChoice:6,submitAnswer:7,deleteAnswer:8,examMode:3,updateCurrentQuestionData:12,settingsShuffleAnswers:13,settingsShowAnswerStats:4})}}export{cn as S};
