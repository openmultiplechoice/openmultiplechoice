import{p as xe,l as re,k as t,h as b,m as J,a as Le,i as ke,f as c,b as V,c as p,u as i,j as s,s as f,t as ae,v as F,d as r,e as ye,n as Z,g as a,w as Xe,y as Ne}from"./lifecycle-BvmTvt_c.js";import{a as be,c as Ce,e as N,p as U,b as Ee,i as je}from"./event-modifiers-C9-V6teM.js";import{h as Ae,Q as Ye,k as Ze}from"./QuestionForm-DLV85khG.js";import{h as ce}from"./html-DWUw1S_J.js";import{p as L,s as Fe}from"./props-DkMS-7Z0.js";import{p as P,d as $e}from"./purify.es-Dnvgf1Dd.js";import{_ as Ve}from"./lodash-DjGC5Q8M.js";import{o as He}from"./index-client-DUeXGvoC.js";import{b as Be}from"./input-CvY2ozlN.js";import{b as et}from"./this-DymA9FIw.js";var tt=c('<div class="col-1 border-start-3 cursor-pointer svelte-1tl7wkh"><p class="badge text-bg-light my-0"> </p></div>'),st=c('<div class="col-1 border-start-3"><p class="badge text-bg-light my-0"> </p></div>'),at=c('<div class="col-9 cursor-pointer svelte-1tl7wkh"><p class="px-1 my-0 trix-content"><!></p></div>'),rt=c('<div class="col-9"><p class="px-1 my-0 trix-content"><!></p></div>'),it=c('<span title="Percentage of users who chose this answer"> </span>'),nt=c('<div class="d-flex justify-content-end align-items-center"><button type="button" class="btn btn-sm p-0"><span class="text-secondary">&cross;</span></button> <div class="vr mx-1"></div> <button type="button" class="btn btn-sm p-0"><span class="text-secondary">&check;</span></button></div>'),ot=c('<span class="text-light fw-bold fs-4">&check;</span>'),dt=c('<span class="text-light fw-bold fs-4">&#8672;</span>'),lt=c('<span class="text-light fw-bold fs-4">&cross;</span>'),vt=c('<span class="text-secondary fw-bold fs-4">&check;</span>'),ct=c('<div class="col-1 border-3"></div> <div class="col-9"><p class="p-1 trix-content"><!></p></div>',1),bt=c('<div style="min-height: 3.6rem; box-shadow: 4px 4px rgba(0,0,0,.2);"><!> <!> <div class="col-2"><div class="row text-end d-flex align-items-center"><div class="col-md"><!></div> <div class="col-md"><!></div></div></div></div> <div class="row ms-1 mb-2 me-1"><!></div>',1);function ut($,m){xe(m,!1);let u=L(m,"answer",8),e=L(m,"answerContext",8),n=L(m,"answerNumber",8),l=L(m,"questionIsAnswered",8),E=L(m,"submitAnswer",8),v=L(m,"examMode",8),O=L(m,"settingsShowAnswerStats",8);var A=J(),I=J(),x=u().badgeText;re(()=>(t(n()),t(E()),t(u())),()=>{Ae.unbind(`${x}, ${n()}`,"questions"),Ae(`${x}, ${n()}`,"questions",function(){E()(u().id)})}),re(()=>(t(u()),t(v()),t(l()),t(e())),()=>{u()&&(b(A,""),v()?b(I,""):l()?(b(I,""),e().isCorrectAnswer?b(A,"border-success"):e().isSubmittedAnswer&&b(A,"border-danger")):e().isSelectedAnswer&&(b(I,""),b(A,"border-danger")))}),Le(),ke();var q=bt(),D=V(q);let M;var R=s(D);{var W=w=>{var h=tt(),T=s(h),_=s(T);ae(()=>Ce(_,x)),N("click",h,()=>E()(u().id)),r(w,h)},se=w=>{var h=st(),T=s(h),_=s(T);ae(()=>Ce(_,x)),r(w,h)};p(R,w=>{t(l()),t(e()),i(()=>!l()&&!e().isSubmittedAnswer)?w(W):w(se,!1)})}var G=f(R,2);{var de=w=>{var h=at(),T=s(h),_=s(T);ce(_,()=>(t(P),t(u()),i(()=>P.sanitize(u().text)))),N("click",h,()=>E()(u().id)),r(w,h)},le=w=>{var h=rt(),T=s(h),_=s(T);ce(_,()=>(t(P),t(u()),i(()=>P.sanitize(u().text)))),r(w,h)};p(G,w=>{t(l()),t(e()),i(()=>!l()&&!e().isSelectedAnswer)?w(de):w(le,!1)})}var C=f(G,2),k=s(C),ie=s(k),Se=s(ie);{var qe=w=>{var h=it();let T;var _=s(h);ae(S=>{T=Fe(h,1,"badge",null,T,S),Ce(_,`${t(u()),i(()=>u().answer_percentage)??""}%`)},[()=>({"text-dark":!e().isSubmittedAnswer&&!e().isCorrectAnswer})]),r(w,h)};p(Se,w=>{t(l()),t(v()),t(O()),t(u()),i(()=>l()&&!v()&&O()&&u().answer_percentage!=null)&&w(qe)})}var d=f(ie,2),y=s(d);{var Q=w=>{var h=nt(),T=s(h),_=f(T,4);N("click",T,U(()=>b(I,F(I)==="incorrect"?"":"incorrect"))),N("click",_,U(()=>b(I,F(I)==="correct"?"":"correct"))),r(w,h)},B=w=>{var h=Z(),T=V(h);{var _=j=>{var X=ot();r(j,X)},S=j=>{var X=Z(),ne=V(X);{var ve=Y=>{var me=dt();r(Y,me)},fe=Y=>{var me=Z(),Ie=V(me);{var De=oe=>{var ge=lt();r(oe,ge)},Me=oe=>{var ge=Z(),Te=V(ge);{var Qe=pe=>{var ze=vt();r(pe,ze)};p(Te,pe=>{t(v()),t(e()),i(()=>v()&&e().isSubmittedAnswer)&&pe(Qe)},!0)}r(oe,ge)};p(Ie,oe=>{t(v()),t(e()),i(()=>!v()&&e().isSubmittedAnswer)?oe(De):oe(Me,!1)},!0)}r(Y,me)};p(ne,Y=>{t(v()),t(e()),t(l()),i(()=>!v()&&e().isCorrectAnswer&&!e().isSubmittedAnswer&&l())?Y(ve):Y(fe,!1)},!0)}r(j,X)};p(T,j=>{t(v()),t(e()),i(()=>!v()&&e().isCorrectAnswer&&e().isSubmittedAnswer)?j(_):j(S,!1)},!0)}r(w,h)};p(y,w=>{t(l()),t(e()),i(()=>!l()&&!e().isSelectedAnswer)?w(Q):w(B,!1)})}var ue=f(D,2),we=s(ue);{var _e=w=>{var h=ct(),T=f(V(h),2),_=s(T),S=s(_);ce(S,()=>(t(P),t(u()),i(()=>P.sanitize(u().hint)))),r(w,h)};p(we,w=>{t(v()),t(u()),t(l()),t(e()),i(()=>!v()&&u().hint&&(l()||e().isSelectedAnswer))&&w(_e)})}ae(w=>{be(D,"id",`answer${t(u()),i(()=>u().id)??""}`),M=Fe(D,1,`row border border-3 rounded m-1 py-2 d-flex align-items-center ${F(A)??""}`,"svelte-1tl7wkh",M,w)},[()=>({"bg-secondary-subtle":v()||!l()&&!e().isSelectedAnswer&&!e().isSubmittedAnswer||l()&&!e().isSubmittedAnswer&&!e().isCorrectAnswer,"text-dark":v()||!l()&&!e().isSelectedAnswer&&!e().isSubmittedAnswer||l()&&!e().isSubmittedAnswer&&!e().isCorrectAnswer,"text-bg-success":!v()&&l()&&e().isCorrectAnswer,"text-bg-danger":!v()&&e().isSelectedAnswer&&!e().isCorrectAnswer,"bg-incorrect":F(I)==="incorrect","bg-correct":F(I)==="correct"})]),r($,q),ye()}var ft=c('<div class="row"><div class="col-md-6 mb-1"><button type="button" class="btn btn-danger btn-sm w-100">&cross; Ask me again</button></div> <div class="col-md-6 mb-1"><button type="button" class="btn btn-success btn-sm w-100">&check; OK</button></div></div>'),mt=c('<div style="box-shadow: 4px 4px rgba(0,0,0,.2);" class="row border-start border-3 rounded bg-secondary-subtle m-1 mb-3 p-2"><p class="p-1"><!></p></div> <!>',1),wt=c('<div class="row"><div class="col-md"><button type="button" class="btn btn-warning btn-sm w-100">Show answer</button></div></div>');function _t($,m){xe(m,!1);let u=L(m,"answer",8),e=L(m,"hasAnswer",8),n=L(m,"submitAnswer",8);var l=J(!1);function E(){b(l,!F(l))}re(()=>t(e()),()=>{e()?b(l,!0):b(l,!1)}),Le(),ke();var v=Z(),O=V(v);{var A=x=>{var q=mt(),D=V(q),M=s(D),R=s(M);ce(R,()=>(t(P),t(u()),i(()=>P.sanitize(u().text))));var W=f(D,2);{var se=G=>{var de=ft(),le=s(de),C=s(le),k=f(le,2),ie=s(k);N("click",C,U(()=>n()())),N("click",ie,U(()=>n()(u().id))),r(G,de)};p(W,G=>{e()||G(se)})}r(x,q)},I=x=>{var q=wt(),D=s(q),M=s(D);N("click",M,U(E)),r(x,q)};p(O,x=>{F(l)?x(A):x(I,!1)})}r($,v),ye()}var gt=c('<div class="row"><div class="col-md-6 mb-1"><button type="button" class="btn btn-danger btn-sm w-100">Ask me again</button></div> <div class="col-md-6 mb-1"><button type="button" class="btn btn-success btn-sm w-100">I got it!</button></div></div>');function pt($,m){xe(m,!1);let u=L(m,"hasAnswer",8),e=L(m,"submitAnswer",8);ke();var n=Z(),l=V(n);{var E=v=>{var O=gt(),A=s(O),I=s(A),x=f(A,2),q=s(x);N("click",I,U(()=>e()())),N("click",q,U(()=>e()(-1))),r(v,O)};p(l,v=>{u()||v(E)})}r($,n),ye()}var ht=c('<div class="col"><div class="card" style="max-width: 18rem; cursor: pointer;"><img class="card-img-top" alt=""/></div></div>'),At=c('<div class="col-lg"><div class="row row-cols-1 row-cols-sm-3 g-4"></div></div>'),xt=c('<div class="img-fullscreen svelte-1kr8lcu"><p class="bg-white text-end"><button type="button" class="btn-close"></button></p> <div class="text-center"><img class="img-fluid border border-5 border-white" alt=""/></div></div>');function kt($,m){xe(m,!1);let u=L(m,"images",24,()=>[]);var e=J(!1),n=J();He(()=>{Ae("esc","images",function(x,q){F(e)&&b(e,!1)})});var l;function E(x){l&&l.cancel(),l=$e(()=>{b(e,!F(e)),b(n,u().find(q=>q.id===x))},100,{maxWait:200}),l()}re(()=>(F(e),Ae),()=>{F(e)?Ae.setScope("images"):Ae.setScope("questions")}),Le(),ke();var v=Z(),O=V(v);{var A=x=>{var q=At(),D=s(q);Ee(D,5,u,M=>M.id,(M,R)=>{var W=ht(),se=s(W),G=s(se);ae(()=>be(G,"src",`/${a(R),i(()=>a(R).path)??""}`)),N("click",G,()=>E(a(R).id)),r(M,W)}),r(x,q)},I=x=>{var q=xt(),D=s(q),M=s(D),R=f(D,2),W=s(R);ae(()=>be(W,"src",`/${F(n),i(()=>F(n).path)??""}`)),N("click",M,U(()=>b(e,!F(e)))),N("click",q,E),r(x,q)};p(O,x=>{F(e)?x(I,!1):x(A)})}r($,v),ye()}var yt=c('<input type="text" class="form-control mb-3" placeholder="Filter decks ..."/>'),St=c('<div class="row mb-1"><div class="col-9 text-truncate"><a class="link-dark"> </a></div> <div class="col-3 d-grid gap-4"><button class="btn btn-sm btn-outline-secondary float-end">Remove</button></div></div>'),qt=c("<hr/>"),Ct=c('<div class="row mb-1"><div class="col-9 text-truncate"><a class="link-dark"> </a></div> <div class="col-3 d-grid gap-4"><button class="btn btn-sm btn-primary float-end">Add</button></div></div>'),Lt=c('<div class="alert alert-light text-center" role="alert">No decks found</div>'),Dt=c("<!> <!> <!> <!> <!>",1),Tt=c('<div class="d-flex justify-content-center"><div class="spinner-border text-secondary" role="status"><span class="visually-hidden">Loading decks ...</span></div></div>'),Et=c('<button class="btn btn-outline-secondary btn-sm" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasAddToDeck" aria-controls="offcanvasAddToDeck"><i class="bi bi-collection"></i> Add to deck</button> <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasAddToDeck" aria-labelledby="offcanvasAddToDeckLabel"><div class="offcanvas-header"><h5 id="offcanvasAddToDeckLabel">Add question to deck</h5> <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button></div> <div class="offcanvas-body pb-0"><!> <hr/> <div class="row sticky-bottom bg-white mt-3"><div class="col"><p>Create new deck:</p> <div class="mb-2"><input type="text" class="form-control" id="name" name="name" placeholder="My new deck ..."/></div> <button class="btn btn-sm btn-primary mb-3">Create deck and add question</button></div></div></div></div>',1);function It($,m){xe(m,!1);let u=L(m,"questionId",8),e=J(void 0),n=J(void 0),l=J(""),E=J(),v=J(""),O=J([]),A=J([]);He(()=>{const d=document.getElementById("offcanvasAddToDeck");d.addEventListener("show.bs.offcanvas",y=>{I()}),d.addEventListener("shown.bs.offcanvas",y=>{M()}),d.addEventListener("hidden.bs.offcanvas",y=>{b(e,void 0),b(n,void 0),b(v,"")})});function I(){axios.get("/api/decks/withquestionids").then(function(d){var y=d.data;b(e,[]),b(n,[]),y.forEach(Q=>{Q.questions.some(B=>B.id===u())?b(e,[...a(e),{id:Q.id,name:Q.name}]):b(n,[...a(n),{id:Q.id,name:Q.name}])})}).catch(function(d){console.log(d),alert(d)})}function x(d){axios.post("/api/decks/"+d+"/addquestion",{question_id:u()}).then(function(y){const Q=a(n).find(B=>B.id===d);b(e,[...a(e),Q]),b(n,a(n).filter(B=>B.id!==d))}).catch(function(y){alert(y)})}function q(d){axios.post("/api/decks/"+d+"/removequestion",{question_id:u()}).then(function(y){const Q=a(e).find(B=>B.id===d);b(n,[...a(n),Q]),b(e,a(e).filter(B=>B.id!==d))}).catch(function(y){alert(y)})}function D(){a(l)&&axios.post("/api/decks",{name:a(l)}).then(function(d){const y=d.data;b(n,[...a(n),y]),x(y.id),b(l,"")}).catch(function(d){alert(d)})}function M(){a(E)&&a(E).focus()}re(()=>(a(n),a(v)),()=>{b(O,a(n)?.filter(d=>d.name.toLowerCase().includes(a(v).toLowerCase())))}),re(()=>(a(e),a(v)),()=>{b(A,a(e)?.filter(d=>d.name.toLowerCase().includes(a(v).toLowerCase())))}),re(()=>a(A),()=>{a(A),M()}),Le(),ke();var R=Et(),W=f(V(R),2),se=f(s(W),2),G=s(se);{var de=d=>{var y=Dt(),Q=V(y);{var B=_=>{var S=yt();et(S,j=>b(E,j),()=>a(E)),Be(S,()=>a(v),j=>b(v,j)),r(_,S)};p(Q,_=>{a(e),a(n),i(()=>a(e).length+a(n).length>10)&&_(B)})}var ue=f(Q,2);Ee(ue,1,()=>a(A),je,(_,S)=>{var j=St(),X=s(j),ne=s(X),ve=s(ne),fe=f(X,2),Y=s(fe);ae(()=>{be(ne,"href",`/decks/${a(S),i(()=>a(S).id)??""}`),Ce(ve,(a(S),i(()=>a(S).name)))}),N("click",Y,U(()=>q(a(S).id))),r(_,j)});var we=f(ue,2);{var _e=_=>{var S=qt();r(_,S)};p(we,_=>{a(O),a(A),i(()=>a(O).length>0&&a(A).length>0)&&_(_e)})}var w=f(we,2);Ee(w,1,()=>a(O),je,(_,S)=>{var j=Ct(),X=s(j),ne=s(X),ve=s(ne),fe=f(X,2),Y=s(fe);ae(()=>{be(ne,"href",`/decks/${a(S),i(()=>a(S).id)??""}`),Ce(ve,(a(S),i(()=>a(S).name)))}),N("click",Y,U(()=>x(a(S).id))),r(_,j)});var h=f(w,2);{var T=_=>{var S=Lt();r(_,S)};p(h,_=>{a(O),a(A),i(()=>a(O).length===0&&a(A).length===0)&&_(T)})}r(d,y)},le=d=>{var y=Tt();r(d,y)};p(G,d=>{a(e)?d(de):d(le,!1)})}var C=f(G,4),k=s(C),ie=f(s(k),2),Se=s(ie),qe=f(ie,2);Be(Se,()=>a(l),d=>b(l,d)),N("click",qe,U(()=>D())),r($,R),ye()}var Mt=c('<div class="my-4 pt-1 pb-1 border-dark" style="border-top: dotted; border-bottom: dotted; border-width: 1px;"><!></div>'),Qt=c('<div class="row"><div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-cone-striped"></i> <strong>Question is marked invalid</strong> and safe to skip!</div></div></div>'),zt=c('<div class="row"><div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-eraser-fill"></i> <strong>Question needs review</strong> - Please review the question and answer choices and make sure they are correct and clear. Afterwards, remove the "Needs review" flag.</div></div></div>'),Nt=c('<div style="box-shadow: 4px 4px rgba(0,0,0,.2);" class="alert alert-secondary" role="alert"><p class="small fw-bold"><i class="bi bi-clipboard2-pulse"></i> CASE</p> <p class="trix-content"><!></p></div>'),Ot=c('<div class="col-lg"><p id="questionText" class="trix-content"><!></p></div>'),jt=c('<div class="row border-start border-3 border-secondary-subtle m-1 mt-3 mb-3"><p><!></p></div>'),Ft=c('<button type="button" class="btn btn-outline-secondary btn-sm mb-3"><i class="bi bi-question-circle"></i> Show hint</button>'),Vt=c('<div class="row"><div class="col"><div class="alert alert-secondary mt-1 trix-content" role="alert"><!></div></div></div>'),Bt=c('<li><button type="button" class="dropdown-item btn btn-sm"><i class="bi bi-arrow-counterclockwise"></i> Reset answer</button></li>'),Ht=c('<li><hr class="dropdown-divider"/></li> <li><a class="dropdown-item btn btn-sm" role="button"><i class="bi bi-collection"></i> Open in deck editor</a></li>',1),Kt=c('<div class="mt-3"><button type="button" class="btn btn-outline-secondary btn-sm">&rightarrow; Show answer</button></div>'),Pt=c('<div class="px-2 py-2 border rounded-3 shadow-sm bg-light-subtle" style=""><!> <!> <!> <div class="row border-start border-3 border-dark m-1 mb-3 pt-2"><!> <!></div> <!> <!> <!> <div class="row mt-1 mb-1 pt-2"><div class="d-flex justify-content-end"><div class="btn-group me-1"><button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">More</button> <ul class="dropdown-menu"><!> <li><a class="dropdown-item btn btn-sm" target="_blank" role="button"><i class="bi bi-box-arrow-up-right"></i> Open in new tab</a></li> <li><hr class="dropdown-divider"/></li> <li><button type="button" class="dropdown-item btn btn-sm"><i class="bi bi-pencil"></i> Edit question</button></li> <!></ul></div> <!></div></div> <!></div>'),Rt=c("<p>Loading ...</p>");function ss($,m){xe(m,!1);let u=L(m,"deckId",8),e=L(m,"question",12),n=L(m,"questionContext",12),l=L(m,"helpUsed",12),E=L(m,"answerChoice",8),v=L(m,"submitAnswer",8),O=L(m,"deleteAnswer",8),A=L(m,"examMode",12),I=L(m,"updateCurrentQuestionData",8),x=L(m,"settingsShuffleAnswers",8),q=L(m,"settingsShowAnswerStats",12);var D=J(!1),M=J(n().isAnswered);function R(C){const k=C.target;!k.classList.contains("bg-danger-subtle")&&!k.classList.contains("bg-warning-subtle")&&!k.classList.contains("bg-success-subtle")?k.classList.add("bg-success-subtle"):k.classList.contains("bg-success-subtle")?(k.classList.remove("bg-success-subtle"),k.classList.add("bg-danger-subtle")):k.classList.contains("bg-danger-subtle")?(k.classList.remove("bg-danger-subtle"),k.classList.add("bg-warning-subtle")):k.classList.contains("bg-warning-subtle")&&k.classList.remove("bg-warning-subtle")}function W(){const C=!F(D);C?I()?I()().then(()=>{b(D,C)}):b(D,C):b(D,C)}re(()=>(t(e()),t(n())),()=>{e(),b(M,n().isAnswered),l(n().isAnswered)}),re(()=>t(e()),()=>{e(),(()=>{var C=document.querySelectorAll("#questionText li");[].map.call(C,function(k){k.addEventListener("click",R,!1)})})()}),re(()=>(t(e()),t(x()),t(n()),Ve),()=>{e(),e().answers.forEach((C,k)=>{C.badgeText="ABCDEFGHIJKLMN".charAt(k)}),e()&&e().type==="mc"&&x()&&!n().isAnswered&&!Object.values(n().answerContext).some(C=>C.isSelectedAnswer)&&e(e().answers=Ve.shuffle(e().answers),!0)}),Le(),ke();var se=Z(),G=V(se);{var de=C=>{var k=Z(),ie=V(k);{var Se=d=>{var y=Mt(),Q=s(y);Ye(Q,{toggleEditor:W,get question(){return e()},set question(B){e(B)},$$legacy:!0}),r(d,y)},qe=d=>{var y=Pt(),Q=s(y);{var B=o=>{var g=Qt();r(o,g)};p(Q,o=>{t(e()),i(()=>e().is_invalid)&&o(B)})}var ue=f(Q,2);{var we=o=>{var g=zt();r(o,g)};p(ue,o=>{t(e()),i(()=>e().needs_review)&&o(we)})}var _e=f(ue,2);{var w=o=>{var g=Nt(),H=f(s(g),2),K=s(H);ce(K,()=>(t(P),t(e()),i(()=>P.sanitize(e().case.text)))),r(o,g)};p(_e,o=>{t(e()),i(()=>e().case)&&o(w)})}var h=f(_e,2),T=s(h);{var _=o=>{var g=Ot(),H=s(g),K=s(H);ce(K,()=>(t(P),t(e()),i(()=>P.sanitize(e().text)))),r(o,g)};p(T,o=>{t(e()),i(()=>e().text)&&o(_)})}var S=f(T,2);{var j=o=>{kt(o,{get images(){return e().images},set images(g){e(e().images=g,!0)},$$legacy:!0})};p(S,o=>{t(e()),i(()=>e().images&&e().images.length>0)&&o(j)})}var X=f(h,2);{var ne=o=>{var g=Z(),H=V(g);{var K=z=>{var ee=jt(),te=s(ee),We=s(te);ce(We,()=>(t(P),t(e()),i(()=>P.sanitize(e().hint)))),r(z,ee)},he=z=>{var ee=Ft();N("click",ee,U(()=>{b(M,!0),l(!0)})),r(z,ee)};p(H,z=>{F(M)?z(K):z(he,!1)})}r(o,g)};p(X,o=>{t(A()),t(e()),i(()=>!A()&&e().hint)&&o(ne)})}var ve=f(X,2);{var fe=o=>{var g=Z(),H=V(g);Ee(H,3,()=>(t(e()),i(()=>e().answers)),K=>K.id,(K,he,z)=>{{let ee=Ne(()=>a(z)+1);ut(K,{get submitAnswer(){return v()},get questionIsAnswered(){return t(n()),i(()=>n().isAnswered)},get answerNumber(){return a(ee)},get answer(){return(t(e()),i(()=>e().answers))[a(z)]},set answer(te){(t(e()),i(()=>e().answers))[a(z)]=te,Xe(()=>e())},get answerContext(){return n().answerContext[(t(e()),i(()=>e().answers))[a(z)].id]},set answerContext(te){n(n().answerContext[(t(e()),i(()=>e().answers))[a(z)].id]=te,!0)},get examMode(){return A()},set examMode(te){A(te)},get settingsShowAnswerStats(){return q()},set settingsShowAnswerStats(te){q(te)},$$legacy:!0})}}),r(o,g)},Y=o=>{var g=Z(),H=V(g);{var K=z=>{{let ee=Ne(()=>!!E());pt(z,{get submitAnswer(){return v()},get hasAnswer(){return a(ee)}})}},he=z=>{{let ee=Ne(()=>!!E());_t(z,{get submitAnswer(){return v()},get hasAnswer(){return a(ee)},get answer(){return e().answers[0]},set answer(te){e(e().answers[0]=te,!0)},$$legacy:!0})}};p(H,z=>{t(e()),i(()=>e().answers.length===0)?z(K):z(he,!1)})}r(o,g)};p(ve,o=>{t(e()),i(()=>e().type==="mc")?o(fe):o(Y,!1)})}var me=f(ve,2);{var Ie=o=>{var g=Vt(),H=s(g),K=s(H),he=s(K);ce(he,()=>(t(P),t(e()),i(()=>P.sanitize(e().comment)))),r(o,g)};p(me,o=>{t(A()),t(n()),t(e()),i(()=>!A()&&n().isAnswered&&e().comment)&&o(Ie)})}var De=f(me,2),Me=s(De),oe=s(Me),ge=f(s(oe),2),Te=s(ge);{var Qe=o=>{var g=Bt(),H=s(g);N("click",H,U(function(...K){O()?.apply(this,K)})),r(o,g)};p(Te,o=>{t(n()),t(E()),i(()=>n().isAnswered&&E()!==-1)&&o(Qe)})}var pe=f(Te,2),ze=s(pe),Oe=f(pe,4),Ke=s(Oe),Pe=f(Oe,2);{var Re=o=>{var g=Ht(),H=f(V(g),2),K=s(H);ae(()=>be(K,"href",`/decks/${u()??""}/questions/edit?question_id=${t(e()),i(()=>e().id)??""}`)),r(o,g)};p(Pe,o=>{u()&&o(Re)})}var Ue=f(oe,2);Ze(Ue,()=>(t(e()),i(()=>e().id)),o=>{It(o,{get questionId(){return t(e()),i(()=>e().id)}})});var Ge=f(De,2);{var Je=o=>{var g=Kt(),H=s(g);N("click",H,U(()=>v()())),r(o,g)};p(Ge,o=>{t(n()),t(A()),t(e()),i(()=>!n().isAnswered&&!A()&&e().type!=="card")&&o(Je)})}ae(()=>{be(y,"id",`question${t(e()),i(()=>e().id)??""}`),be(ze,"href",`/questions/${t(e()),i(()=>e().id)??""}`)}),N("click",Ke,U(W)),r(d,y)};p(ie,d=>{F(D)?d(Se):d(qe,!1)})}r(C,k)},le=C=>{var k=Rt();r(C,k)};p(G,C=>{e()?C(de):C(le,!1)})}r($,se),ye()}export{ss as S};
