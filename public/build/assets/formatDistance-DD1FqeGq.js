import{t as u,n as S,g as y,e as O,a as X,m as I,b as D}from"./parseISO-BjONWRSE.js";function M(n,s){const e=+u(n)-+u(s);return e<0?-1:e>0?1:e}function _(n,s,e){const[a,t]=S(e?.in,n,s),f=a.getFullYear()-t.getFullYear(),i=a.getMonth()-t.getMonth();return f*12+i}function Y(n){return s=>{const a=(n?Math[n]:Math.trunc)(s);return a===0?0:a}}function b(n,s){return+u(n)-+u(s)}function T(n,s){const e=u(n,s?.in);return e.setHours(23,59,59,999),e}function F(n,s){const e=u(n,s?.in),a=e.getMonth();return e.setFullYear(e.getFullYear(),a+1,0),e.setHours(23,59,59,999),e}function w(n,s){const e=u(n,s?.in);return+T(e,s)==+F(e,s)}function H(n,s,e){const[a,t,f]=S(e?.in,n,n,s),i=M(t,f),r=Math.abs(_(t,f));if(r<1)return 0;t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*r);let l=M(t,f)===-i;w(a)&&r===1&&M(a,f)===1&&(l=!1);const d=i*(r-+l);return d===0?0:d}function v(n,s,e){const a=b(n,s)/1e3;return Y(e?.roundingMethod)(a)}function A(n,s,e){const a=y(),t=e?.locale??a.locale??O,f=2520,i=M(n,s);if(isNaN(i))throw new RangeError("Invalid time value");const r=Object.assign({},e,{addSuffix:e?.addSuffix,comparison:i}),[l,d]=S(e?.in,...i>0?[s,n]:[n,s]),h=v(d,l),x=(X(d)-X(l))/1e3,o=Math.round((h-x)/60);let m;if(o<2)return e?.includeSeconds?h<5?t.formatDistance("lessThanXSeconds",5,r):h<10?t.formatDistance("lessThanXSeconds",10,r):h<20?t.formatDistance("lessThanXSeconds",20,r):h<40?t.formatDistance("halfAMinute",0,r):h<60?t.formatDistance("lessThanXMinutes",1,r):t.formatDistance("xMinutes",1,r):o===0?t.formatDistance("lessThanXMinutes",1,r):t.formatDistance("xMinutes",o,r);if(o<45)return t.formatDistance("xMinutes",o,r);if(o<90)return t.formatDistance("aboutXHours",1,r);if(o<I){const c=Math.round(o/60);return t.formatDistance("aboutXHours",c,r)}else{if(o<f)return t.formatDistance("xDays",1,r);if(o<D){const c=Math.round(o/I);return t.formatDistance("xDays",c,r)}else if(o<D*2)return m=Math.round(o/D),t.formatDistance("aboutXMonths",m,r)}if(m=H(d,l),m<12){const c=Math.round(o/D);return t.formatDistance("xMonths",c,r)}else{const c=m%12,g=Math.trunc(m/12);return c<3?t.formatDistance("aboutXYears",g,r):c<9?t.formatDistance("overXYears",g,r):t.formatDistance("almostXYears",g+1,r)}}export{A as f};
