import{d as me,p as ge,a as l,s as X,f as v,b as D,i as f,j as s,c,t as se,r as E,e as r,h as he,m as ke,g as n,u as L,k as Y,n as Ve}from"./if-BKKSZk4S.js";import{h as ye,Q as Be,k as He}from"./QuestionForm-DKpxFnZj.js";import{a as ve,p as O,e as Se,i as Ie}from"./event-modifiers-Dk_SUsNJ.js";import{h as oe}from"./html-KMz9BxYn.js";import{p as fe}from"./props-CpDAvbNA.js";import{r as le}from"./legacy-client-DxtlDGnO.js";import{p as de,d as Ke}from"./purify.es-Dnvgf1Dd.js";import{_ as Pe}from"./lodash-DjGC5Q8M.js";import{s as Me}from"./class-BfJg_ovI.js";import{o as pe}from"./index-client-D4bTxURC.js";import{b as De}from"./input-5B9WpH3T.js";import{b as Re}from"./this-Dh2OgrC7.js";var Ue=(j,e)=>e.submitAnswer(e.answer.id),Ge=v('<div class="col-1 border-start-3 cursor-pointer svelte-1tl7wkh"><p class="badge text-bg-light my-0"> </p></div>'),Je=v('<div class="col-1 border-start-3"><p class="badge text-bg-light my-0"> </p></div>'),We=(j,e)=>e.submitAnswer(e.answer.id),Xe=v('<div class="col-9 cursor-pointer svelte-1tl7wkh"><p class="px-1 my-0 trix-content"><!></p></div>'),Ye=v('<div class="col-9"><p class="px-1 my-0 trix-content"><!></p></div>'),Ze=v('<span title="Percentage of users who chose this answer"> </span>'),$e=v('<div class="d-flex justify-content-end align-items-center"><button type="button" class="btn btn-sm p-0"><span class="text-secondary">&cross;</span></button> <div class="vr mx-1"></div> <button type="button" class="btn btn-sm p-0"><span class="text-secondary">&check;</span></button></div>'),et=v('<span class="text-light fw-bold fs-4">&check;</span>'),tt=v('<span class="text-light fw-bold fs-4">&#8672;</span>'),at=v('<span class="text-light fw-bold fs-4">&cross;</span>'),st=v('<span class="text-secondary fw-bold fs-4">&check;</span>'),nt=v('<div class="col-1 border-3"></div> <div class="col-9"><p class="p-1 trix-content"><!></p></div>',1),rt=v('<div style="min-height: 3.6rem; box-shadow: 4px 4px rgba(0,0,0,.2);"><!> <!> <div class="col-2"><div class="row text-end d-flex align-items-center"><div class="col-md"><!></div> <div class="col-md"><!></div></div></div></div> <div class="row ms-1 mb-2 me-1"><!></div>',1);function it(j,e){ge(e,!0);var t=X(void 0),i=X(void 0),y=e.answer.badgeText;le(()=>{ye.unbind(`${y}, ${e.answerNumber}`,"questions"),ye(`${y}, ${e.answerNumber}`,"questions",function(){e.submitAnswer(e.answer.id)})}),le(()=>{e.answer&&(l(t,""),e.examMode?l(i,""):e.questionIsAnswered?(l(i,""),e.answerContext.isCorrectAnswer?l(t,"border-success"):e.answerContext.isSubmittedAnswer&&l(t,"border-danger")):e.answerContext.isSelectedAnswer&&(l(i,""),l(t,"border-danger")))});var g=rt(),C=D(g);let M;var q=s(C);{var Q=a=>{var d=Ge();d.__click=[Ue,e];var b=s(d),m=s(b);se(()=>ke(m,y)),r(a,d)},z=a=>{var d=Je(),b=s(d),m=s(b);se(()=>ke(m,y)),r(a,d)};f(q,a=>{!e.questionIsAnswered&&!e.answerContext.isSubmittedAnswer?a(Q):a(z,!1)})}var h=c(q,2);{var A=a=>{var d=Xe();d.__click=[We,e];var b=s(d),m=s(b);oe(m,()=>de.sanitize(e.answer.text)),r(a,d)},S=a=>{var d=Ye(),b=s(d),m=s(b);oe(m,()=>de.sanitize(e.answer.text)),r(a,d)};f(h,a=>{!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer?a(A):a(S,!1)})}var F=c(h,2),_=s(F),u=s(_),B=s(u);{var K=a=>{var d=Ze();let b;var m=s(d);se(U=>{b=Me(d,1,"badge",null,b,U),ke(m,`${e.answer.answer_percentage??""}%`)},[()=>({"text-dark":!e.answerContext.isSubmittedAnswer&&!e.answerContext.isCorrectAnswer})]),r(a,d)};f(B,a=>{e.questionIsAnswered&&!e.examMode&&e.settingsShowAnswerStats&&e.answer.answer_percentage!=null&&a(K)})}var ce=c(u,2),P=s(ce);{var R=a=>{var d=$e(),b=s(d),m=L(()=>O(()=>l(i,E(i)==="incorrect"?"":"incorrect",!0)));b.__click=function(...G){n(m)?.apply(this,G)};var U=c(b,4),H=L(()=>O(()=>l(i,E(i)==="correct"?"":"correct",!0)));U.__click=function(...G){n(H)?.apply(this,G)},r(a,d)},Z=a=>{var d=Y(),b=D(d);{var m=H=>{var G=et();r(H,G)},U=H=>{var G=Y(),ue=D(G);{var Ae=x=>{var k=tt();r(x,k)},we=x=>{var k=Y(),V=D(k);{var ne=J=>{var ee=at();r(J,ee)},ae=J=>{var ee=Y(),be=D(ee);{var ie=re=>{var Ce=st();r(re,Ce)};f(be,re=>{e.examMode&&e.answerContext.isSubmittedAnswer&&re(ie)},!0)}r(J,ee)};f(V,J=>{!e.examMode&&e.answerContext.isSubmittedAnswer?J(ne):J(ae,!1)},!0)}r(x,k)};f(ue,x=>{!e.examMode&&e.answerContext.isCorrectAnswer&&!e.answerContext.isSubmittedAnswer&&e.questionIsAnswered?x(Ae):x(we,!1)},!0)}r(H,G)};f(b,H=>{!e.examMode&&e.answerContext.isCorrectAnswer&&e.answerContext.isSubmittedAnswer?H(m):H(U,!1)},!0)}r(a,d)};f(P,a=>{!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer?a(R):a(Z,!1)})}var $=c(C,2),_e=s($);{var xe=a=>{var d=nt(),b=c(D(d),2),m=s(b),U=s(m);oe(U,()=>de.sanitize(e.answer.hint)),r(a,d)};f(_e,a=>{!e.examMode&&e.answer.hint&&(e.questionIsAnswered||e.answerContext.isSelectedAnswer)&&a(xe)})}se(a=>{ve(C,"id",`answer${e.answer.id??""}`),M=Me(C,1,`row border border-3 rounded m-1 py-2 d-flex align-items-center ${E(t)??""}`,"svelte-1tl7wkh",M,a)},[()=>({"bg-secondary-subtle":e.examMode||!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer&&!e.answerContext.isSubmittedAnswer||e.questionIsAnswered&&!e.answerContext.isSubmittedAnswer&&!e.answerContext.isCorrectAnswer,"text-dark":e.examMode||!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer&&!e.answerContext.isSubmittedAnswer||e.questionIsAnswered&&!e.answerContext.isSubmittedAnswer&&!e.answerContext.isCorrectAnswer,"text-bg-success":!e.examMode&&e.questionIsAnswered&&e.answerContext.isCorrectAnswer,"text-bg-danger":!e.examMode&&e.answerContext.isSelectedAnswer&&!e.answerContext.isCorrectAnswer,"bg-incorrect":E(i)==="incorrect","bg-correct":E(i)==="correct"})]),r(j,g),he()}me(["click"]);var ot=v('<div class="row"><div class="col-md-6 mb-1"><button type="button" class="btn btn-danger btn-sm w-100">&cross; Ask me again</button></div> <div class="col-md-6 mb-1"><button type="button" class="btn btn-success btn-sm w-100">&check; OK</button></div></div>'),dt=v('<div style="box-shadow: 4px 4px rgba(0,0,0,.2);" class="row border-start border-3 rounded bg-secondary-subtle m-1 mb-3 p-2"><p class="p-1"><!></p></div> <!>',1),vt=v('<div class="row"><div class="col-md"><button type="button" class="btn btn-warning btn-sm w-100">Show answer</button></div></div>');function lt(j,e){ge(e,!0);var t=X(!1);le(()=>{e.hasAnswer?l(t,!0):l(t,!1)});function i(){l(t,!E(t))}var y=Y(),g=D(y);{var C=q=>{var Q=dt(),z=D(Q),h=s(z),A=s(h);oe(A,()=>de.sanitize(e.answer.text));var S=c(z,2);{var F=_=>{var u=ot(),B=s(u),K=s(B),ce=L(()=>O(()=>e.submitAnswer()));K.__click=function(...$){n(ce)?.apply(this,$)};var P=c(B,2),R=s(P),Z=L(()=>O(()=>e.submitAnswer(e.answer.id)));R.__click=function(...$){n(Z)?.apply(this,$)},r(_,u)};f(S,_=>{e.hasAnswer||_(F)})}r(q,Q)},M=q=>{var Q=vt(),z=s(Q),h=s(z),A=L(()=>O(i));h.__click=function(...S){n(A)?.apply(this,S)},r(q,Q)};f(g,q=>{E(t)?q(C):q(M,!1)})}r(j,y),he()}me(["click"]);var ct=v('<div class="row"><div class="col-md-6 mb-1"><button type="button" class="btn btn-danger btn-sm w-100">Ask me again</button></div> <div class="col-md-6 mb-1"><button type="button" class="btn btn-success btn-sm w-100">I got it!</button></div></div>');function ut(j,e){ge(e,!0);var t=Y(),i=D(t);{var y=g=>{var C=ct(),M=s(C),q=s(M),Q=L(()=>O(()=>e.submitAnswer()));q.__click=function(...S){n(Q)?.apply(this,S)};var z=c(M,2),h=s(z),A=L(()=>O(()=>e.submitAnswer(-1)));h.__click=function(...S){n(A)?.apply(this,S)},r(g,C)};f(i,g=>{e.hasAnswer||g(y)})}r(j,t),he()}me(["click"]);var bt=(j,e,t)=>e(n(t).id),_t=v('<div class="col"><div class="card" style="max-width: 18rem; cursor: pointer;"><img class="card-img-top" alt=""/></div></div>'),wt=v('<div class="col-lg"><div class="row row-cols-1 row-cols-sm-3 g-4"></div></div>'),ft=v('<div class="img-fullscreen svelte-1kr8lcu"><p class="bg-white text-end"><button type="button" class="btn-close"></button></p> <div class="text-center"><img class="img-fluid border border-5 border-white" alt=""/></div></div>');function mt(j,e){ge(e,!0);let t=fe(e,"images",19,()=>[]);var i=X(!1),y=X(void 0);le(()=>{E(i)?ye.setScope("images"):ye.setScope("questions")}),pe(()=>{ye("esc","images",function(h,A){E(i)&&l(i,!1)})});var g;function C(h){g&&g.cancel(),g=Ke(()=>{l(i,!E(i)),l(y,t().find(A=>A.id===h),!0)},100,{maxWait:200}),g()}var M=Y(),q=D(M);{var Q=h=>{var A=wt(),S=s(A);Se(S,21,t,F=>F.id,(F,_)=>{var u=_t(),B=s(u),K=s(B);K.__click=[bt,C,_],se(()=>ve(K,"src",`/${n(_).path??""}`)),r(F,u)}),r(h,A)},z=h=>{var A=ft();A.__click=C;var S=s(A),F=s(S),_=L(()=>O(()=>l(i,!E(i))));F.__click=function(...K){n(_)?.apply(this,K)};var u=c(S,2),B=s(u);se(()=>ve(B,"src",`/${E(y).path??""}`)),r(h,A)};f(q,h=>{E(i)?h(z,!1):h(Q)})}r(j,M),he()}me(["click"]);var gt=v('<input type="text" class="form-control mb-3" placeholder="Filter decks ..."/>'),ht=v('<div class="row mb-1"><div class="col-9 text-truncate"><a class="link-dark"> </a></div> <div class="col-3 d-grid gap-4"><button class="btn btn-sm btn-outline-secondary float-end">Remove</button></div></div>'),xt=v("<hr/>"),At=v('<div class="row mb-1"><div class="col-9 text-truncate"><a class="link-dark"> </a></div> <div class="col-3 d-grid gap-4"><button class="btn btn-sm btn-primary float-end">Add</button></div></div>'),kt=v('<div class="alert alert-light text-center" role="alert">No decks found</div>'),yt=v("<!> <!> <!> <!> <!>",1),Ct=v('<div class="d-flex justify-content-center"><div class="spinner-border text-secondary" role="status"><span class="visually-hidden">Loading decks ...</span></div></div>'),St=v('<button class="btn btn-outline-secondary btn-sm" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasAddToDeck" aria-controls="offcanvasAddToDeck"><i class="bi bi-collection"></i> Add to deck</button> <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasAddToDeck" aria-labelledby="offcanvasAddToDeckLabel"><div class="offcanvas-header"><h5 id="offcanvasAddToDeckLabel">Add question to deck</h5> <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button></div> <div class="offcanvas-body pb-0"><!> <hr/> <div class="row sticky-bottom bg-white mt-3"><div class="col"><p>Create new deck:</p> <div class="mb-2"><input type="text" class="form-control" id="name" name="name" placeholder="My new deck ..."/></div> <button class="btn btn-sm btn-primary mb-3">Create deck and add question</button></div></div></div></div>',1);function qt(j,e){ge(e,!0);let t=X(void 0),i=X(void 0),y=X(""),g=X(void 0),C=X("");pe(()=>{const a=document.getElementById("offcanvasAddToDeck");a.addEventListener("show.bs.offcanvas",d=>{M()}),a.addEventListener("shown.bs.offcanvas",d=>{h()}),a.addEventListener("hidden.bs.offcanvas",d=>{l(t,void 0),l(i,void 0),l(C,"")})});function M(){axios.get("/api/decks/withquestionids").then(function(a){var d=a.data;l(t,[],!0),l(i,[],!0),d.forEach(b=>{b.questions.some(m=>m.id===e.questionId)?l(t,[...n(t),{id:b.id,name:b.name}],!0):l(i,[...n(i),{id:b.id,name:b.name}],!0)})}).catch(function(a){console.log(a),alert(a)})}function q(a){axios.post("/api/decks/"+a+"/addquestion",{question_id:e.questionId}).then(function(d){const b=n(i).find(m=>m.id===a);l(t,[...n(t),b],!0),l(i,n(i).filter(m=>m.id!==a),!0)}).catch(function(d){alert(d)})}function Q(a){axios.post("/api/decks/"+a+"/removequestion",{question_id:e.questionId}).then(function(d){const b=n(t).find(m=>m.id===a);l(i,[...n(i),b],!0),l(t,n(t).filter(m=>m.id!==a),!0)}).catch(function(d){alert(d)})}function z(){n(y)&&axios.post("/api/decks",{name:n(y)}).then(function(a){const d=a.data;l(i,[...n(i),d],!0),q(d.id),l(y,"")}).catch(function(a){alert(a)})}function h(){n(g)&&n(g).focus()}let A=L(()=>n(i)?.filter(a=>a.name.toLowerCase().includes(n(C).toLowerCase()))),S=L(()=>n(t)?.filter(a=>a.name.toLowerCase().includes(n(C).toLowerCase())));le(()=>{n(S),h()});var F=St(),_=c(D(F),2),u=c(s(_),2),B=s(u);{var K=a=>{var d=yt(),b=D(d);{var m=x=>{var k=gt();Re(k,V=>l(g,V),()=>n(g)),De(k,()=>n(C),V=>l(C,V)),r(x,k)};f(b,x=>{n(t).length+n(i).length>10&&x(m)})}var U=c(b,2);Se(U,17,()=>n(S),Ie,(x,k)=>{var V=ht(),ne=s(V),ae=s(ne),J=s(ae),ee=c(ne,2),be=s(ee),ie=L(()=>O(()=>Q(n(k).id)));be.__click=function(...re){n(ie)?.apply(this,re)},se(()=>{ve(ae,"href",`/decks/${n(k).id??""}`),ke(J,n(k).name)}),r(x,V)});var H=c(U,2);{var G=x=>{var k=xt();r(x,k)};f(H,x=>{n(A).length>0&&n(S).length>0&&x(G)})}var ue=c(H,2);Se(ue,17,()=>n(A),Ie,(x,k)=>{var V=At(),ne=s(V),ae=s(ne),J=s(ae),ee=c(ne,2),be=s(ee),ie=L(()=>O(()=>q(n(k).id)));be.__click=function(...re){n(ie)?.apply(this,re)},se(()=>{ve(ae,"href",`/decks/${n(k).id??""}`),ke(J,n(k).name)}),r(x,V)});var Ae=c(ue,2);{var we=x=>{var k=kt();r(x,k)};f(Ae,x=>{n(A).length===0&&n(S).length===0&&x(we)})}r(a,d)},ce=a=>{var d=Ct();r(a,d)};f(B,a=>{n(t)?a(K):a(ce,!1)})}var P=c(B,4),R=s(P),Z=c(s(R),2),$=s(Z),_e=c(Z,2),xe=L(()=>O(()=>z()));_e.__click=function(...a){n(xe)?.apply(this,a)},De($,()=>n(y),a=>l(y,a)),r(j,F),he()}me(["click"]);var Lt=v('<div class="my-4 pt-1 pb-1 border-dark" style="border-top: dotted; border-bottom: dotted; border-width: 1px;"><!></div>'),It=v('<div class="row"><div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-cone-striped"></i> <strong>Question is marked invalid</strong> and safe to skip!</div></div></div>'),Mt=v('<div class="row"><div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-eraser-fill"></i> <strong>Question needs review</strong> - Please review the question and answer choices and make sure they are correct and clear. Afterwards, remove the "Needs review" flag.</div></div></div>'),Dt=v('<div style="box-shadow: 4px 4px rgba(0,0,0,.2);" class="alert alert-secondary" role="alert"><p class="small fw-bold"><i class="bi bi-clipboard2-pulse"></i> CASE</p> <p class="trix-content"><!></p></div>'),pt=v('<div class="col-lg"><p id="questionText" class="trix-content"><!></p></div>'),Tt=v('<div class="row border-start border-3 border-secondary-subtle m-1 mt-3 mb-3"><p><!></p></div>'),Et=v('<button type="button" class="btn btn-outline-secondary btn-sm mb-3"><i class="bi bi-question-circle"></i> Show hint</button>'),Qt=v('<div class="row"><div class="col"><div class="alert alert-secondary mt-1 trix-content" role="alert"><!></div></div></div>'),zt=v('<li><button type="button" class="dropdown-item btn btn-sm"><i class="bi bi-arrow-counterclockwise"></i> Reset answer</button></li>'),Nt=v('<li><hr class="dropdown-divider"/></li> <li><a class="dropdown-item btn btn-sm" role="button"><i class="bi bi-collection"></i> Open in deck editor</a></li>',1),Ot=v('<div class="mt-3"><button type="button" class="btn btn-outline-secondary btn-sm">&rightarrow; Show answer</button></div>'),jt=v('<div class="px-2 py-2 border rounded-3 shadow-sm bg-light-subtle" style=""><!> <!> <!> <div class="row border-start border-3 border-dark m-1 mb-3 pt-2"><!> <!></div> <!> <!> <!> <div class="row mt-1 mb-1 pt-2"><div class="d-flex justify-content-end"><div class="btn-group me-1"><button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">More</button> <ul class="dropdown-menu"><!> <li><a class="dropdown-item btn btn-sm" target="_blank" role="button"><i class="bi bi-box-arrow-up-right"></i> Open in new tab</a></li> <li><hr class="dropdown-divider"/></li> <li><button type="button" class="dropdown-item btn btn-sm"><i class="bi bi-pencil"></i> Edit question</button></li> <!></ul></div> <!></div></div> <!></div>'),Ft=v("<p>Loading ...</p>");function Zt(j,e){ge(e,!0);let t=fe(e,"question",15),i=fe(e,"questionContext",15),y=fe(e,"helpUsed",15),g=fe(e,"examMode",15),C=fe(e,"settingsShowAnswerStats",15);var M=X(!1),q=X(Ve(i().isAnswered));le(()=>{t(),l(q,i().isAnswered,!0),y(i().isAnswered)}),le(()=>{t(),(()=>{var _=document.querySelectorAll("#questionText li");[].map.call(_,function(u){u.addEventListener("click",Q,!1)})})()}),le(()=>{t(),t().answers.forEach((_,u)=>{_.badgeText="ABCDEFGHIJKLMN".charAt(u)}),t()&&t().type==="mc"&&e.settingsShuffleAnswers&&!i().isAnswered&&!Object.values(i().answerContext).some(_=>_.isSelectedAnswer)&&t(t().answers=Pe.shuffle(t().answers),!0)});function Q(_){const u=_.target;!u.classList.contains("bg-danger-subtle")&&!u.classList.contains("bg-warning-subtle")&&!u.classList.contains("bg-success-subtle")?u.classList.add("bg-success-subtle"):u.classList.contains("bg-success-subtle")?(u.classList.remove("bg-success-subtle"),u.classList.add("bg-danger-subtle")):u.classList.contains("bg-danger-subtle")?(u.classList.remove("bg-danger-subtle"),u.classList.add("bg-warning-subtle")):u.classList.contains("bg-warning-subtle")&&u.classList.remove("bg-warning-subtle")}function z(){const _=!E(M);_?e.updateCurrentQuestionData?e.updateCurrentQuestionData().then(()=>{l(M,_)}):l(M,_):l(M,_)}var h=Y(),A=D(h);{var S=_=>{var u=Y(),B=D(u);{var K=P=>{var R=Lt(),Z=s(R);Be(Z,{toggleEditor:z,get question(){return t()},set question($){t($)}}),r(P,R)},ce=P=>{var R=jt(),Z=s(R);{var $=o=>{var w=It();r(o,w)};f(Z,o=>{t().is_invalid&&o($)})}var _e=c(Z,2);{var xe=o=>{var w=Mt();r(o,w)};f(_e,o=>{t().needs_review&&o(xe)})}var a=c(_e,2);{var d=o=>{var w=Dt(),p=c(s(w),2),I=s(p);oe(I,()=>de.sanitize(t().case.text)),r(o,w)};f(a,o=>{t().case&&o(d)})}var b=c(a,2),m=s(b);{var U=o=>{var w=pt(),p=s(w),I=s(p);oe(I,()=>de.sanitize(t().text)),r(o,w)};f(m,o=>{t().text&&o(U)})}var H=c(m,2);{var G=o=>{mt(o,{get images(){return t().images},set images(w){t(t().images=w,!0)}})};f(H,o=>{t().images&&t().images.length>0&&o(G)})}var ue=c(b,2);{var Ae=o=>{var w=Y(),p=D(w);{var I=T=>{var te=Tt(),N=s(te),qe=s(N);oe(qe,()=>de.sanitize(t().hint)),r(T,te)},W=T=>{var te=Et(),N=L(()=>O(()=>{l(q,!0),y(!0)}));te.__click=function(...qe){n(N)?.apply(this,qe)},r(T,te)};f(p,T=>{E(q)?T(I):T(W,!1)})}r(o,w)};f(ue,o=>{!g()&&t().hint&&o(Ae)})}var we=c(ue,2);{var x=o=>{var w=Y(),p=D(w);Se(p,19,()=>t().answers,I=>I.id,(I,W,T)=>{{let te=L(()=>n(T)+1);it(I,{get submitAnswer(){return e.submitAnswer},get answerNumber(){return n(te)},get answer(){return t().answers[n(T)]},set answer(N){t(t().answers[n(T)]=N,!0)},get answerContext(){return i().answerContext[n(W).id]},set answerContext(N){i(i().answerContext[n(W).id]=N,!0)},get examMode(){return g()},set examMode(N){g(N)},get settingsShowAnswerStats(){return C()},set settingsShowAnswerStats(N){C(N)},get questionIsAnswered(){return i().isAnswered},set questionIsAnswered(N){i(i().isAnswered=N,!0)}})}}),r(o,w)},k=o=>{var w=Y(),p=D(w);{var I=T=>{{let te=L(()=>!!e.answerChoice);ut(T,{get submitAnswer(){return e.submitAnswer},get hasAnswer(){return n(te)}})}},W=T=>{{let te=L(()=>!!e.answerChoice);lt(T,{get submitAnswer(){return e.submitAnswer},get hasAnswer(){return n(te)},get answer(){return t().answers[0]},set answer(N){t(t().answers[0]=N,!0)}})}};f(p,T=>{t().answers.length===0?T(I):T(W,!1)})}r(o,w)};f(we,o=>{t().type==="mc"?o(x):o(k,!1)})}var V=c(we,2);{var ne=o=>{var w=Qt(),p=s(w),I=s(p),W=s(I);oe(W,()=>de.sanitize(t().comment)),r(o,w)};f(V,o=>{!g()&&i().isAnswered&&t().comment&&o(ne)})}var ae=c(V,2),J=s(ae),ee=s(J),be=c(s(ee),2),ie=s(be);{var re=o=>{var w=zt(),p=s(w),I=L(()=>O(e.deleteAnswer));p.__click=function(...W){n(I)?.apply(this,W)},r(o,w)};f(ie,o=>{i().isAnswered&&e.answerChoice!==-1&&o(re)})}var Ce=c(ie,2),Te=s(Ce),Le=c(Ce,4),Ee=s(Le),Qe=L(()=>O(z));Ee.__click=function(...o){n(Qe)?.apply(this,o)};var ze=c(Le,2);{var Ne=o=>{var w=Nt(),p=c(D(w),2),I=s(p);se(()=>ve(I,"href",`/decks/${e.deckId??""}/questions/edit?question_id=${t().id??""}`)),r(o,w)};f(ze,o=>{e.deckId&&o(Ne)})}var Oe=c(ee,2);He(Oe,()=>t().id,o=>{qt(o,{get questionId(){return t().id}})});var je=c(ae,2);{var Fe=o=>{var w=Ot(),p=s(w),I=L(()=>O(()=>e.submitAnswer()));p.__click=function(...W){n(I)?.apply(this,W)},r(o,w)};f(je,o=>{!i().isAnswered&&!g()&&t().type!=="card"&&o(Fe)})}se(()=>{ve(R,"id",`question${t().id??""}`),ve(Te,"href",`/questions/${t().id??""}`)}),r(P,R)};f(B,P=>{E(M)?P(K):P(ce,!1)})}r(_,u)},F=_=>{var u=Ft();r(_,u)};f(A,_=>{t()?_(S):_(F,!1)})}r(j,h),he()}me(["click"]);export{Zt as S};
