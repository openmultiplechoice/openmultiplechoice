import{d as Ae,p as ke,a as l,s as $,f as d,b as Q,i as f,j as a,c as v,t as te,r as F,e as n,h as ye,m as xe,g as s,u as D,k as ee,n as Be}from"./if-BZUX_OG7.js";import{h as Le,Q as He,k as Ke}from"./QuestionForm-CH5vkJpA.js";import{a as ce,p as K,e as De,i as Te}from"./event-modifiers-Cjnfc0B6.js";import{h as ve}from"./html-DVYBXfyI.js";import{p as we,u as Ee}from"./props-CMFmzDA8.js";import{r as ue}from"./legacy-client-Czxnps-C.js";import{p as le,d as Pe}from"./purify.es-8jJjCGTs.js";import{_ as Re}from"./lodash-DjGC5Q8M.js";import{s as Me}from"./class-BfJg_ovI.js";import{o as ze}from"./index-client-D2V4MdKn.js";import{b as Qe}from"./input-Dhvtgc8-.js";import{b as Ue}from"./this-DNveabDO.js";var Ge=(P,e)=>e.submitAnswer(e.answer.id),Je=d('<div class="col-1 border-start-3 cursor-pointer svelte-1tl7wkh"><p class="badge text-bg-light my-0"> </p></div>'),We=d('<div class="col-1 border-start-3"><p class="badge text-bg-light my-0"> </p></div>'),Xe=(P,e)=>e.submitAnswer(e.answer.id),Ye=d('<div class="col-9 cursor-pointer svelte-1tl7wkh"><p class="px-1 my-0 trix-content"><!></p></div>'),Ze=d('<div class="col-9"><p class="px-1 my-0 trix-content"><!></p></div>'),$e=d('<span title="Percentage of users who chose this answer"> </span>'),et=d('<div class="d-flex justify-content-end align-items-center"><button type="button" class="btn btn-sm p-0"><span class="text-secondary">&cross;</span></button> <div class="vr mx-1"></div> <button type="button" class="btn btn-sm p-0"><span class="text-secondary">&check;</span></button></div>'),tt=d('<span class="text-light fw-bold fs-4">&check;</span>'),at=d('<span class="text-light fw-bold fs-4">&#8672;</span>'),st=d('<span class="text-light fw-bold fs-4">&cross;</span>'),nt=d('<span class="text-secondary fw-bold fs-4">&check;</span>'),rt=d('<div class="col-1 border-3"></div> <div class="col-9"><p class="p-1 trix-content"><!></p></div>',1),it=d('<div style="min-height: 3.6rem; box-shadow: 4px 4px rgba(0,0,0,.2);"><!> <!> <div class="col-2"><div class="d-flex align-items-center justify-content-end"><!> <!></div></div></div> <div class="row ms-1 mb-2 me-1"><!></div>',1);function ot(P,e){ke(e,!0);var t=$(void 0),r=$(void 0),m=e.answer.badgeText;ue(()=>{Le.unbind(`${m}, ${e.answerNumber}`,"questions"),Le(`${m}, ${e.answerNumber}`,"questions",function(){e.submitAnswer(e.answer.id)})}),ue(()=>{e.answer&&(l(t,""),e.examMode?l(r,""):e.questionIsAnswered?(l(r,""),e.answerContext.isCorrectAnswer?l(t,"border-success"):e.answerContext.isSubmittedAnswer&&l(t,"border-danger")):e.answerContext.isSelectedAnswer&&(l(r,""),l(t,"border-danger")))});var g=it(),C=Q(g);let A;var p=a(C);{var j=u=>{var w=Je();w.__click=[Ge,e];var y=a(w),S=a(y);te(()=>xe(S,m)),n(u,w)},V=u=>{var w=We(),y=a(w),S=a(y);te(()=>xe(S,m)),n(u,w)};f(p,u=>{!e.questionIsAnswered&&!e.answerContext.isSubmittedAnswer?u(j):u(V,!1)})}var x=v(p,2);{var k=u=>{var w=Ye();w.__click=[Xe,e];var y=a(w),S=a(y);ve(S,()=>le.sanitize(e.answer.text)),n(u,w)},q=u=>{var w=Ze(),y=a(w),S=a(y);ve(S,()=>le.sanitize(e.answer.text)),n(u,w)};f(x,u=>{!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer?u(k):u(q,!1)})}var O=v(x,2),_=a(O),c=a(_);{var R=u=>{var w=$e();let y;var S=a(w);te(X=>{y=Me(w,1,"badge",null,y,X),xe(S,`${e.answer.answer_percentage??""}%`)},[()=>({"text-dark":!e.answerContext.isSubmittedAnswer&&!e.answerContext.isCorrectAnswer})]),n(u,w)};f(c,u=>{e.questionIsAnswered&&!e.examMode&&e.settingsShowAnswerStats&&e.answer.answer_percentage!=null&&u(R)})}var G=v(c,2);{var be=u=>{var w=et(),y=a(w),S=D(()=>K(()=>l(r,F(r)==="incorrect"?"":"incorrect",!0)));y.__click=function(...Y){s(S)?.apply(this,Y)};var X=v(y,4),U=D(()=>K(()=>l(r,F(r)==="correct"?"":"correct",!0)));X.__click=function(...Y){s(U)?.apply(this,Y)},n(u,w)},J=u=>{var w=ee(),y=Q(w);{var S=U=>{var Y=tt();n(U,Y)},X=U=>{var Y=ee(),o=Q(Y);{var h=I=>{var re=at();n(I,re)},M=I=>{var re=ee(),me=Q(re);{var Ce=ie=>{var de=st();n(ie,de)},_e=ie=>{var de=ee(),T=Q(de);{var L=B=>{var oe=nt();n(B,oe)};f(T,B=>{e.examMode&&e.answerContext.isSubmittedAnswer&&B(L)},!0)}n(ie,de)};f(me,ie=>{!e.examMode&&e.answerContext.isSubmittedAnswer?ie(Ce):ie(_e,!1)},!0)}n(I,re)};f(o,I=>{!e.examMode&&e.answerContext.isCorrectAnswer&&!e.answerContext.isSubmittedAnswer&&e.questionIsAnswered?I(h):I(M,!1)},!0)}n(U,Y)};f(y,U=>{!e.examMode&&e.answerContext.isCorrectAnswer&&e.answerContext.isSubmittedAnswer?U(S):U(X,!1)},!0)}n(u,w)};f(G,u=>{!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer?u(be):u(J,!1)})}var W=v(C,2),ae=a(W);{var se=u=>{var w=rt(),y=v(Q(w),2),S=a(y),X=a(S);ve(X,()=>le.sanitize(e.answer.hint)),n(u,w)};f(ae,u=>{!e.examMode&&e.answer.hint&&(e.questionIsAnswered||e.answerContext.isSelectedAnswer)&&u(se)})}te(u=>{ce(C,"id",`answer${e.answer.id??""}`),A=Me(C,1,`row border border-3 rounded m-1 py-2 d-flex align-items-center ${F(t)??""}`,"svelte-1tl7wkh",A,u)},[()=>({"bg-secondary-subtle":e.examMode||!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer&&!e.answerContext.isSubmittedAnswer||e.questionIsAnswered&&!e.answerContext.isSubmittedAnswer&&!e.answerContext.isCorrectAnswer,"text-dark":e.examMode||!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer&&!e.answerContext.isSubmittedAnswer||e.questionIsAnswered&&!e.answerContext.isSubmittedAnswer&&!e.answerContext.isCorrectAnswer,"text-bg-success":!e.examMode&&e.questionIsAnswered&&e.answerContext.isCorrectAnswer,"text-bg-danger":!e.examMode&&e.answerContext.isSelectedAnswer&&!e.answerContext.isCorrectAnswer,"bg-incorrect":F(r)==="incorrect","bg-correct":F(r)==="correct"})]),n(P,g),ye()}Ae(["click"]);var dt=d('<div class="row"><div class="col-md-6 mb-1"><button type="button" class="btn btn-danger btn-sm w-100">&cross; Ask me again</button></div> <div class="col-md-6 mb-1"><button type="button" class="btn btn-success btn-sm w-100">&check; OK</button></div></div>'),vt=d('<div style="box-shadow: 4px 4px rgba(0,0,0,.2);" class="row border-start border-3 rounded bg-secondary-subtle m-1 mb-3 p-2"><p class="p-1"><!></p></div> <!>',1),lt=d('<div class="row"><div class="col-md"><button type="button" class="btn btn-warning btn-sm w-100">Show answer</button></div></div>');function ct(P,e){ke(e,!0);var t=$(!1);ue(()=>{e.hasAnswer?l(t,!0):l(t,!1)});function r(){l(t,!F(t))}var m=ee(),g=Q(m);{var C=p=>{var j=vt(),V=Q(j),x=a(V),k=a(x);ve(k,()=>le.sanitize(e.answer.text));var q=v(V,2);{var O=_=>{var c=dt(),R=a(c),G=a(R),be=D(()=>K(()=>e.submitAnswer()));G.__click=function(...se){s(be)?.apply(this,se)};var J=v(R,2),W=a(J),ae=D(()=>K(()=>e.submitAnswer(e.answer.id)));W.__click=function(...se){s(ae)?.apply(this,se)},n(_,c)};f(q,_=>{e.hasAnswer||_(O)})}n(p,j)},A=p=>{var j=lt(),V=a(j),x=a(V),k=D(()=>K(r));x.__click=function(...q){s(k)?.apply(this,q)},n(p,j)};f(g,p=>{F(t)?p(C):p(A,!1)})}n(P,m),ye()}Ae(["click"]);var ut=d('<div class="row"><div class="col-md-6 mb-1"><button type="button" class="btn btn-danger btn-sm w-100">Ask me again</button></div> <div class="col-md-6 mb-1"><button type="button" class="btn btn-success btn-sm w-100">I got it!</button></div></div>');function bt(P,e){ke(e,!0);var t=ee(),r=Q(t);{var m=g=>{var C=ut(),A=a(C),p=a(A),j=D(()=>K(()=>e.submitAnswer()));p.__click=function(...q){s(j)?.apply(this,q)};var V=v(A,2),x=a(V),k=D(()=>K(()=>e.submitAnswer(-1)));x.__click=function(...q){s(k)?.apply(this,q)},n(g,C)};f(r,g=>{e.hasAnswer||g(m)})}n(P,t),ye()}Ae(["click"]);var _t=(P,e,t)=>e(s(t).id),ft=d('<div class="col"><div class="card" style="max-width: 18rem; cursor: pointer;"><img class="card-img-top" alt=""/></div></div>'),wt=d('<div class="col-lg"><div class="row row-cols-1 row-cols-sm-3 g-4"></div></div>'),mt=d('<div class="img-fullscreen svelte-1kr8lcu"><p class="bg-white text-end"><button type="button" class="btn-close"></button></p> <div class="text-center"><img class="img-fluid border border-5 border-white" alt=""/></div></div>');function gt(P,e){ke(e,!0);let t=we(e,"images",19,()=>[]);var r=$(!1),m=$(void 0);ue(()=>{F(r)?Le.setScope("images"):Le.setScope("questions")}),ze(()=>{Le("esc","images",function(x,k){F(r)&&l(r,!1)})});var g;function C(x){g&&g.cancel(),g=Pe(()=>{l(r,!F(r)),l(m,t().find(k=>k.id===x),!0)},100,{maxWait:200}),g()}var A=ee(),p=Q(A);{var j=x=>{var k=wt(),q=a(k);De(q,21,t,O=>O.id,(O,_)=>{var c=ft(),R=a(c),G=a(R);G.__click=[_t,C,_],te(()=>ce(G,"src",`/${s(_).path??""}`)),n(O,c)}),n(x,k)},V=x=>{var k=mt();k.__click=C;var q=a(k),O=a(q),_=D(()=>K(()=>l(r,!F(r))));O.__click=function(...G){s(_)?.apply(this,G)};var c=v(q,2),R=a(c);te(()=>ce(R,"src",`/${F(m).path??""}`)),n(x,k)};f(p,x=>{F(r)?x(V,!1):x(j)})}n(P,A),ye()}Ae(["click"]);var ht=d('<span class="badge text-bg-light"> </span>'),xt=d('<input type="text" class="form-control mb-3" placeholder="Filter decks ..."/>'),At=d('<div class="row mb-1"><div class="col-9 text-truncate"><a class="link-dark"> </a></div> <div class="col-3 d-grid gap-4"><button class="btn btn-sm btn-outline-secondary float-end">Remove</button></div></div>'),kt=d("<hr/>"),yt=d('<div class="row mb-1"><div class="col-9 text-truncate"><a class="link-dark"> </a></div> <div class="col-3 d-grid gap-4"><button class="btn btn-sm btn-primary float-end">Add</button></div></div>'),Ct=d('<div class="alert alert-light text-center" role="alert">No decks found</div>'),qt=d("<!> <!> <!> <!> <!>",1),St=d('<div class="d-flex justify-content-center"><div class="spinner-border text-secondary" role="status"><span class="visually-hidden">Loading decks ...</span></div></div>'),It=d('<button type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasAddToDeck" aria-controls="offcanvasAddToDeck"><i class="bi bi-collection"></i> Add to deck <!></button> <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasAddToDeck" aria-labelledby="offcanvasAddToDeckLabel"><div class="offcanvas-header"><h5 id="offcanvasAddToDeckLabel">Add question to deck</h5> <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button></div> <div class="offcanvas-body pb-0"><!> <hr/> <div class="row sticky-bottom bg-white mt-3"><div class="col"><p>Create new deck:</p> <div class="mb-2"><input type="text" class="form-control" id="name" name="name" placeholder="My new deck ..."/></div> <button class="btn btn-sm btn-primary mb-3">Create deck and add question</button></div></div></div></div>',1);function Lt(P,e){ke(e,!0);let t=we(e,"questionAddToDeckIncludedCount",15),r=$(void 0),m=$(void 0),g=$(""),C=$(void 0),A=$("");ze(()=>{const o=document.getElementById("offcanvasAddToDeck");o.addEventListener("show.bs.offcanvas",h=>{p()}),o.addEventListener("shown.bs.offcanvas",h=>{k()}),o.addEventListener("hidden.bs.offcanvas",h=>{l(r,void 0),l(m,void 0),l(A,"")})});function p(){axios.get("/api/decks/withquestionids").then(function(o){var h=o.data;l(r,[],!0),l(m,[],!0),h.forEach(M=>{M.questions.some(I=>I.id===e.questionId)?l(r,[...s(r),{id:M.id,name:M.name}],!0):l(m,[...s(m),{id:M.id,name:M.name}],!0)}),t(s(r).length)}).catch(function(o){console.log(o),alert(o)})}function j(o){axios.post("/api/decks/"+o+"/addquestion",{question_id:e.questionId}).then(function(h){const M=s(m).find(I=>I.id===o);l(r,[...s(r),M],!0),l(m,s(m).filter(I=>I.id!==o),!0),Ee(t)}).catch(function(h){alert(h)})}function V(o){axios.post("/api/decks/"+o+"/removequestion",{question_id:e.questionId}).then(function(h){const M=s(r).find(I=>I.id===o);l(m,[...s(m),M],!0),l(r,s(r).filter(I=>I.id!==o),!0),Ee(t,-1)}).catch(function(h){alert(h)})}function x(){s(g)&&axios.post("/api/decks",{name:s(g)}).then(function(o){const h=o.data;l(m,[...s(m),h],!0),j(h.id),l(g,"")}).catch(function(o){alert(o)})}function k(){s(C)&&s(C).focus()}let q=D(()=>s(m)?.filter(o=>o.name.toLowerCase().includes(s(A).toLowerCase()))),O=D(()=>s(r)?.filter(o=>o.name.toLowerCase().includes(s(A).toLowerCase())));ue(()=>{s(O),k()});var _=It(),c=Q(_);let R;var G=v(a(c),2);{var be=o=>{var h=ht(),M=a(h);te(()=>xe(M,t())),n(o,h)};f(G,o=>{t()>0&&o(be)})}var J=v(c,2),W=v(a(J),2),ae=a(W);{var se=o=>{var h=qt(),M=Q(h);{var I=T=>{var L=xt();Ue(L,B=>l(C,B),()=>s(C)),Qe(L,()=>s(A),B=>l(A,B)),n(T,L)};f(M,T=>{s(r).length+s(m).length>10&&T(I)})}var re=v(M,2);De(re,17,()=>s(O),Te,(T,L)=>{var B=At(),oe=a(B),fe=a(oe),ge=a(fe),qe=v(oe,2),he=a(qe),Se=D(()=>K(()=>V(s(L).id)));he.__click=function(...Ie){s(Se)?.apply(this,Ie)},te(()=>{ce(fe,"href",`/decks/${s(L).id??""}`),xe(ge,s(L).name)}),n(T,B)});var me=v(re,2);{var Ce=T=>{var L=kt();n(T,L)};f(me,T=>{s(q).length>0&&s(O).length>0&&T(Ce)})}var _e=v(me,2);De(_e,17,()=>s(q),Te,(T,L)=>{var B=yt(),oe=a(B),fe=a(oe),ge=a(fe),qe=v(oe,2),he=a(qe),Se=D(()=>K(()=>j(s(L).id)));he.__click=function(...Ie){s(Se)?.apply(this,Ie)},te(()=>{ce(fe,"href",`/decks/${s(L).id??""}`),xe(ge,s(L).name)}),n(T,B)});var ie=v(_e,2);{var de=T=>{var L=Ct();n(T,L)};f(ie,T=>{s(q).length===0&&s(O).length===0&&T(de)})}n(o,h)},u=o=>{var h=St();n(o,h)};f(ae,o=>{s(r)?o(se):o(u,!1)})}var w=v(ae,4),y=a(w),S=v(a(y),2),X=a(S),U=v(S,2),Y=D(()=>K(()=>x()));U.__click=function(...o){s(Y)?.apply(this,o)},te(o=>R=Me(c,1,"btn btn-sm",null,R,o),[()=>({"btn-outline-secondary":t()===0,"bg-info-subtle":t()>0,"border-secondary":t()>0})]),Qe(X,()=>s(g),o=>l(g,o)),n(P,_),ye()}Ae(["click"]);var Dt=d('<div class="my-4 pt-1 pb-1 border-dark" style="border-top: dotted; border-bottom: dotted; border-width: 1px;"><!></div>'),pt=d('<div class="row"><div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-cone-striped"></i> <strong>Question is marked invalid</strong> and safe to skip!</div></div></div>'),Mt=d('<div class="row"><div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-eraser-fill"></i> <strong>Question needs review</strong> - Please review the question and answer choices and make sure they are correct and clear. Afterwards, remove the "Needs review" flag.</div></div></div>'),Tt=d('<div style="box-shadow: 4px 4px rgba(0,0,0,.2);" class="alert alert-secondary" role="alert"><p class="small fw-bold"><i class="bi bi-clipboard2-pulse"></i> CASE</p> <p class="trix-content"><!></p></div>'),Et=d('<div class="col-lg"><p id="questionText" class="trix-content"><!></p></div>'),Qt=d('<div class="row border-start border-3 border-secondary-subtle m-1 mt-3 mb-3"><p><!></p></div>'),zt=d('<button type="button" class="btn btn-outline-secondary btn-sm mb-3"><i class="bi bi-question-circle"></i> Show hint</button>'),Nt=d('<div class="row"><div class="col"><div class="alert alert-secondary mt-1 trix-content" role="alert"><!></div></div></div>'),jt=d('<li><button type="button" class="dropdown-item btn btn-sm"><i class="bi bi-arrow-counterclockwise"></i> Reset answer</button></li>'),Ot=d('<li><hr class="dropdown-divider"/></li> <li><a class="dropdown-item btn btn-sm" role="button"><i class="bi bi-collection"></i> Open in deck editor</a></li>',1),Ft=d('<div class="mt-3"><button type="button" class="btn btn-outline-secondary btn-sm">&rightarrow; Show answer</button></div>'),Vt=d('<div class="px-2 py-2 border rounded-3 shadow-sm bg-light-subtle" style=""><!> <!> <!> <div class="row border-start border-3 border-dark m-1 mb-3 pt-2"><!> <!></div> <!> <!> <!> <div class="row mt-1 mb-1 pt-2"><div class="d-flex justify-content-end"><div class="btn-group me-1"><button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">More</button> <ul class="dropdown-menu"><!> <li><a class="dropdown-item btn btn-sm" target="_blank" role="button"><i class="bi bi-box-arrow-up-right"></i> Open in new tab</a></li> <li><hr class="dropdown-divider"/></li> <li><button type="button" class="dropdown-item btn btn-sm"><i class="bi bi-pencil"></i> Edit question</button></li> <!></ul></div> <!></div></div> <!></div>'),Bt=d("<p>Loading ...</p>");function ea(P,e){ke(e,!0);let t=we(e,"question",15),r=we(e,"questionContext",15),m=we(e,"helpUsed",15),g=we(e,"examMode",15),C=we(e,"settingsShowAnswerStats",15);var A=$(!1),p=$(Be(r().isAnswered));ue(()=>{t(),l(p,r().isAnswered,!0),m(r().isAnswered)}),ue(()=>{t(),(()=>{var _=document.querySelectorAll("#questionText li");[].map.call(_,function(c){c.addEventListener("click",j,!1)})})()}),ue(()=>{t(),t().answers.forEach((_,c)=>{_.badgeText="ABCDEFGHIJKLMN".charAt(c)}),t()&&t().type==="mc"&&e.settingsShuffleAnswers&&!r().isAnswered&&!Object.values(r().answerContext).some(_=>_.isSelectedAnswer)&&t(t().answers=Re.shuffle(t().answers),!0)});function j(_){const c=_.target;!c.classList.contains("bg-danger-subtle")&&!c.classList.contains("bg-warning-subtle")&&!c.classList.contains("bg-success-subtle")?c.classList.add("bg-success-subtle"):c.classList.contains("bg-success-subtle")?(c.classList.remove("bg-success-subtle"),c.classList.add("bg-danger-subtle")):c.classList.contains("bg-danger-subtle")?(c.classList.remove("bg-danger-subtle"),c.classList.add("bg-warning-subtle")):c.classList.contains("bg-warning-subtle")&&c.classList.remove("bg-warning-subtle")}function V(){const _=!F(A);_?e.updateCurrentQuestionData?e.updateCurrentQuestionData().then(()=>{l(A,_)}):l(A,_):l(A,_)}var x=ee(),k=Q(x);{var q=_=>{var c=ee(),R=Q(c);{var G=J=>{var W=Dt(),ae=a(W);He(ae,{toggleEditor:V,get question(){return t()},set question(se){t(se)}}),n(J,W)},be=J=>{var W=Vt(),ae=a(W);{var se=i=>{var b=pt();n(i,b)};f(ae,i=>{t().is_invalid&&i(se)})}var u=v(ae,2);{var w=i=>{var b=Mt();n(i,b)};f(u,i=>{t().needs_review&&i(w)})}var y=v(u,2);{var S=i=>{var b=Tt(),z=v(a(b),2),E=a(z);ve(E,()=>le.sanitize(t().case.text)),n(i,b)};f(y,i=>{t().case&&i(S)})}var X=v(y,2),U=a(X);{var Y=i=>{var b=Et(),z=a(b),E=a(z);ve(E,()=>le.sanitize(t().text)),n(i,b)};f(U,i=>{t().text&&i(Y)})}var o=v(U,2);{var h=i=>{gt(i,{get images(){return t().images},set images(b){t(t().images=b,!0)}})};f(o,i=>{t().images&&t().images.length>0&&i(h)})}var M=v(X,2);{var I=i=>{var b=ee(),z=Q(b);{var E=N=>{var ne=Qt(),H=a(ne),pe=a(H);ve(pe,()=>le.sanitize(t().hint)),n(N,ne)},Z=N=>{var ne=zt(),H=D(()=>K(()=>{l(p,!0),m(!0)}));ne.__click=function(...pe){s(H)?.apply(this,pe)},n(N,ne)};f(z,N=>{F(p)?N(E):N(Z,!1)})}n(i,b)};f(M,i=>{!g()&&t().hint&&i(I)})}var re=v(M,2);{var me=i=>{var b=ee(),z=Q(b);De(z,19,()=>t().answers,E=>E.id,(E,Z,N)=>{{let ne=D(()=>s(N)+1);ot(E,{get submitAnswer(){return e.submitAnswer},get answerNumber(){return s(ne)},get answer(){return t().answers[s(N)]},set answer(H){t(t().answers[s(N)]=H,!0)},get answerContext(){return r().answerContext[s(Z).id]},set answerContext(H){r(r().answerContext[s(Z).id]=H,!0)},get examMode(){return g()},set examMode(H){g(H)},get settingsShowAnswerStats(){return C()},set settingsShowAnswerStats(H){C(H)},get questionIsAnswered(){return r().isAnswered},set questionIsAnswered(H){r(r().isAnswered=H,!0)}})}}),n(i,b)},Ce=i=>{var b=ee(),z=Q(b);{var E=N=>{{let ne=D(()=>!!e.answerChoice);bt(N,{get submitAnswer(){return e.submitAnswer},get hasAnswer(){return s(ne)}})}},Z=N=>{{let ne=D(()=>!!e.answerChoice);ct(N,{get submitAnswer(){return e.submitAnswer},get hasAnswer(){return s(ne)},get answer(){return t().answers[0]},set answer(H){t(t().answers[0]=H,!0)}})}};f(z,N=>{t().answers.length===0?N(E):N(Z,!1)})}n(i,b)};f(re,i=>{t().type==="mc"?i(me):i(Ce,!1)})}var _e=v(re,2);{var ie=i=>{var b=Nt(),z=a(b),E=a(z),Z=a(E);ve(Z,()=>le.sanitize(t().comment)),n(i,b)};f(_e,i=>{!g()&&r().isAnswered&&t().comment&&i(ie)})}var de=v(_e,2),T=a(de),L=a(T),B=v(a(L),2),oe=a(B);{var fe=i=>{var b=jt(),z=a(b),E=D(()=>K(e.deleteAnswer));z.__click=function(...Z){s(E)?.apply(this,Z)},n(i,b)};f(oe,i=>{r().isAnswered&&e.answerChoice!==-1&&i(fe)})}var ge=v(oe,2),qe=a(ge),he=v(ge,4),Se=a(he),Ie=D(()=>K(V));Se.__click=function(...i){s(Ie)?.apply(this,i)};var Ne=v(he,2);{var je=i=>{var b=Ot(),z=v(Q(b),2),E=a(z);te(()=>ce(E,"href",`/decks/${e.deckId??""}/questions/edit?question_id=${t().id??""}`)),n(i,b)};f(Ne,i=>{e.deckId&&i(je)})}var Oe=v(L,2);Ke(Oe,()=>t().id,i=>{Lt(i,{get questionId(){return t().id},get questionAddToDeckIncludedCount(){return t().add_to_deck_included_count},set questionAddToDeckIncludedCount(b){t(t().add_to_deck_included_count=b,!0)}})});var Fe=v(de,2);{var Ve=i=>{var b=Ft(),z=a(b),E=D(()=>K(()=>e.submitAnswer()));z.__click=function(...Z){s(E)?.apply(this,Z)},n(i,b)};f(Fe,i=>{!r().isAnswered&&!g()&&t().type!=="card"&&i(Ve)})}te(()=>{ce(W,"id",`question${t().id??""}`),ce(qe,"href",`/questions/${t().id??""}`)}),n(J,W)};f(R,J=>{F(A)?J(G):J(be,!1)})}n(_,c)},O=_=>{var c=Bt();n(_,c)};f(k,_=>{t()?_(q):_(O,!1)})}n(P,x),ye()}Ae(["click"]);export{ea as S};
