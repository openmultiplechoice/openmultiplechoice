import{J as _,K as d,L as s,M as o,N as c}from"./lifecycle-BvmTvt_c.js";function b(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function v(e,r,a=!1){if(e.multiple){if(r==null)return;if(!s(r))return b();for(var u of e.options)u.selected=r.includes(i(u));return}for(u of e.options){var n=i(u);if(o(n,r)){u.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function m(e){var r=new MutationObserver(()=>{v(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),c(()=>{r.disconnect()})}function h(e,r,a=r){var u=!0;_(e,"change",n=>{var t=n?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(t),i);else{var f=e.querySelector(t)??e.querySelector("option:not([disabled])");l=f&&i(f)}a(l)}),d(()=>{var n=r();if(v(e,n,u),u&&n===void 0){var t=e.querySelector(":checked");t!==null&&(n=i(t),a(n))}e.__value=n,u=!1}),m(e)}function i(e){return"__value"in e?e.__value:e.value}export{h as b};
