import{S as me,i as _e,s as oe,c as d,a as E,f,o as le,b as v,h as m,n as z,d as y,l as P,p as X,e as te,B as qe,C as ft,I as Le,E as he,j as Ie,m as Ne,t as Oe,q as at,y as B,z as ce,x as U,D as fe,k as ae,r as ue,u as be,v as we,w as de,A as pe,K as pt}from"./index-BBxbQYOu.js";import{e as re,u as ut,d as gt,o as ht}from"./each-DRTt0YH0.js";import{p as R,d as kt}from"./purify.es-DfBF0len.js";import{_ as vt}from"./lodash-D0JQdfhu.js";import{Q as yt}from"./QuestionForm-DL-Tikwj.js";const Se=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Ee(n,e,t,s){n.addEventListener?n.addEventListener(e,t,s):n.attachEvent&&n.attachEvent("on".concat(e),t)}function ge(n,e,t,s){n.removeEventListener?n.removeEventListener(e,t,s):n.detachEvent&&n.detachEvent("on".concat(e),t)}function dt(n,e){const t=e.slice(0,e.length-1);for(let s=0;s<t.length;s++)t[s]=n[t[s].toLowerCase()];return t}function mt(n){typeof n!="string"&&(n=""),n=n.replace(/\s/g,"");const e=n.split(",");let t=e.lastIndexOf("");for(;t>=0;)e[t-1]+=",",e.splice(t,1),t=e.lastIndexOf("");return e}function At(n,e){const t=n.length>=e.length?n:e,s=n.length>=e.length?e:n;let i=!0;for(let l=0;l<t.length;l++)s.indexOf(t[l])===-1&&(i=!1);return i}const ve={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":Se?173:189,"=":Se?61:187,";":Se?59:186,"'":222,"[":219,"]":221,"\\":220},$={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},Ke={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},V={16:!1,18:!1,17:!1,91:!1},N={};for(let n=1;n<20;n++)ve["f".concat(n)]=111+n;let H=[],ke=null,_t="all";const ee=new Map,Ae=n=>ve[n.toLowerCase()]||$[n.toLowerCase()]||n.toUpperCase().charCodeAt(0),Ct=n=>Object.keys(ve).find(e=>ve[e]===n),Lt=n=>Object.keys($).find(e=>$[e]===n);function bt(n){_t=n||"all"}function ye(){return _t||"all"}function qt(){return H.slice(0)}function Mt(){return H.map(n=>Ct(n)||Lt(n)||String.fromCharCode(n))}function St(){const n=[];return Object.keys(N).forEach(e=>{N[e].forEach(t=>{let{key:s,scope:i,mods:l,shortcut:r}=t;n.push({scope:i,shortcut:r,mods:l,keys:s.split("+").map(o=>Ae(o))})})}),n}function Et(n){const e=n.target||n.srcElement,{tagName:t}=e;let s=!0;const i=t==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(i||t==="TEXTAREA"||t==="SELECT")&&!e.readOnly)&&(s=!1),s}function Tt(n){return typeof n=="string"&&(n=Ae(n)),H.indexOf(n)!==-1}function Kt(n,e){let t,s;n||(n=ye());for(const i in N)if(Object.prototype.hasOwnProperty.call(N,i))for(t=N[i],s=0;s<t.length;)t[s].scope===n?t.splice(s,1).forEach(r=>{let{element:o}=r;return He(o)}):s++;ye()===n&&bt(e||"all")}function Ot(n){let e=n.keyCode||n.which||n.charCode;const t=H.indexOf(e);if(t>=0&&H.splice(t,1),n.key&&n.key.toLowerCase()==="meta"&&H.splice(0,H.length),(e===93||e===224)&&(e=91),e in V){V[e]=!1;for(const s in $)$[s]===e&&(Y[s]=!1)}}function wt(n){if(typeof n>"u")Object.keys(N).forEach(i=>{Array.isArray(N[i])&&N[i].forEach(l=>Ce(l)),delete N[i]}),He(null);else if(Array.isArray(n))n.forEach(i=>{i.key&&Ce(i)});else if(typeof n=="object")n.key&&Ce(n);else if(typeof n=="string"){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];let[i,l]=t;typeof i=="function"&&(l=i,i=""),Ce({key:n,scope:i,method:l,splitKey:"+"})}}const Ce=n=>{let{key:e,scope:t,method:s,splitKey:i="+"}=n;mt(e).forEach(r=>{const o=r.split(i),c=o.length,a=o[c-1],u=a==="*"?"*":Ae(a);if(!N[u])return;t||(t=ye());const _=c>1?dt($,o):[],k=[];N[u]=N[u].filter(g=>{const p=(s?g.method===s:!0)&&g.scope===t&&At(g.mods,_);return p&&k.push(g.element),!p}),k.forEach(g=>He(g))})};function je(n,e,t,s){if(e.element!==s)return;let i;if(e.scope===t||e.scope==="all"){i=e.mods.length>0;for(const l in V)Object.prototype.hasOwnProperty.call(V,l)&&(!V[l]&&e.mods.indexOf(+l)>-1||V[l]&&e.mods.indexOf(+l)===-1)&&(i=!1);(e.mods.length===0&&!V[16]&&!V[18]&&!V[17]&&!V[91]||i||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(H),e.method(n,e)===!1&&(n.preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation&&n.stopPropagation(),n.cancelBubble&&(n.cancelBubble=!0)))}}function Pe(n,e){const t=N["*"];let s=n.keyCode||n.which||n.charCode;if(!Y.filter.call(this,n))return;if((s===93||s===224)&&(s=91),H.indexOf(s)===-1&&s!==229&&H.push(s),["ctrlKey","altKey","shiftKey","metaKey"].forEach(o=>{const c=Ke[o];n[o]&&H.indexOf(c)===-1?H.push(c):!n[o]&&H.indexOf(c)>-1?H.splice(H.indexOf(c),1):o==="metaKey"&&n[o]&&H.length===3&&(n.ctrlKey||n.shiftKey||n.altKey||(H=H.slice(H.indexOf(c))))}),s in V){V[s]=!0;for(const o in $)$[o]===s&&(Y[o]=!0);if(!t)return}for(const o in V)Object.prototype.hasOwnProperty.call(V,o)&&(V[o]=n[Ke[o]]);n.getModifierState&&!(n.altKey&&!n.ctrlKey)&&n.getModifierState("AltGraph")&&(H.indexOf(17)===-1&&H.push(17),H.indexOf(18)===-1&&H.push(18),V[17]=!0,V[18]=!0);const i=ye();if(t)for(let o=0;o<t.length;o++)t[o].scope===i&&(n.type==="keydown"&&t[o].keydown||n.type==="keyup"&&t[o].keyup)&&je(n,t[o],i,e);if(!(s in N))return;const l=N[s],r=l.length;for(let o=0;o<r;o++)if((n.type==="keydown"&&l[o].keydown||n.type==="keyup"&&l[o].keyup)&&l[o].key){const c=l[o],{splitKey:a}=c,u=c.key.split(a),_=[];for(let k=0;k<u.length;k++)_.push(Ae(u[k]));_.sort().join("")===H.sort().join("")&&je(n,c,i,e)}}function Y(n,e,t){H=[];const s=mt(n);let i=[],l="all",r=document,o=0,c=!1,a=!0,u="+",_=!1,k=!1;for(t===void 0&&typeof e=="function"&&(t=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(l=e.scope),e.element&&(r=e.element),e.keyup&&(c=e.keyup),e.keydown!==void 0&&(a=e.keydown),e.capture!==void 0&&(_=e.capture),typeof e.splitKey=="string"&&(u=e.splitKey),e.single===!0&&(k=!0)),typeof e=="string"&&(l=e),k&&wt(n,l);o<s.length;o++)n=s[o].split(u),i=[],n.length>1&&(i=dt($,n)),n=n[n.length-1],n=n==="*"?"*":Ae(n),n in N||(N[n]=[]),N[n].push({keyup:c,keydown:a,scope:l,mods:i,shortcut:s[o],method:t,key:s[o],splitKey:u,element:r});if(typeof r<"u"&&window){if(!ee.has(r)){const g=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return Pe(p,r)},w=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;Pe(p,r),Ot(p)};ee.set(r,{keydownListener:g,keyupListenr:w,capture:_}),Ee(r,"keydown",g,_),Ee(r,"keyup",w,_)}if(!ke){const g=()=>{H=[]};ke={listener:g,capture:_},Ee(window,"focus",g,_)}}}function Ht(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(N).forEach(t=>{N[t].filter(i=>i.scope===e&&i.shortcut===n).forEach(i=>{i&&i.method&&i.method()})})}function He(n){const e=Object.values(N).flat();if(e.findIndex(s=>{let{element:i}=s;return i===n})<0){const{keydownListener:s,keyupListenr:i,capture:l}=ee.get(n)||{};s&&i&&(ge(n,"keyup",i,l),ge(n,"keydown",s,l),ee.delete(n))}if((e.length<=0||ee.size<=0)&&(Object.keys(ee).forEach(i=>{const{keydownListener:l,keyupListenr:r,capture:o}=ee.get(i)||{};l&&r&&(ge(i,"keyup",r,o),ge(i,"keydown",l,o),ee.delete(i))}),ee.clear(),Object.keys(N).forEach(i=>delete N[i]),ke)){const{listener:i,capture:l}=ke;ge(window,"focus",i,l),ke=null}}const Te={getPressedKeyString:Mt,setScope:bt,getScope:ye,deleteScope:Kt,getPressedKeyCodes:qt,getAllKeyCodes:St,isPressed:Tt,filter:Et,trigger:Ht,unbind:wt,keyMap:ve,modifier:$,modifierMap:Ke};for(const n in Te)Object.prototype.hasOwnProperty.call(Te,n)&&(Y[n]=Te[n]);if(typeof window<"u"){const n=window.hotkeys;Y.noConflict=e=>(e&&window.hotkeys===Y&&(window.hotkeys=n),Y),window.hotkeys=Y}function zt(n){let e,t;return{c(){e=d("div"),t=d("p"),t.textContent=`${n[7]}`,f(t,"class","badge text-dark"),f(e,"class","col-1 border-start-3")},m(s,i){v(s,e,i),m(e,t)},p:z,d(s){s&&y(e)}}}function Dt(n){let e,t,s,i;return{c(){e=d("div"),t=d("p"),t.textContent=`${n[7]}`,f(t,"class","badge text-dark"),f(e,"class","col-1 border-start-3 cursor-pointer svelte-12xdzqf")},m(l,r){v(l,e,r),m(e,t),s||(i=P(e,"click",n[9]),s=!0)},p:z,d(l){l&&y(e),s=!1,i()}}}function It(n){let e,t,s=R.sanitize(n[0].text)+"";return{c(){e=d("div"),t=d("p"),f(t,"class","p-1"),f(e,"class","col-10")},m(i,l){v(i,e,l),m(e,t),t.innerHTML=s},p(i,l){l&1&&s!==(s=R.sanitize(i[0].text)+"")&&(t.innerHTML=s)},d(i){i&&y(e)}}}function Nt(n){let e,t,s=R.sanitize(n[0].text)+"",i,l;return{c(){e=d("div"),t=d("p"),f(t,"class","p-1"),f(e,"class","col-10 cursor-pointer svelte-12xdzqf")},m(r,o){v(r,e,o),m(e,t),t.innerHTML=s,i||(l=P(e,"click",n[10]),i=!0)},p(r,o){o&1&&s!==(s=R.sanitize(r[0].text)+"")&&(t.innerHTML=s)},d(r){r&&y(e),i=!1,l()}}}function jt(n){let e;return{c(){e=d("span"),e.textContent="✓",f(e,"class","text-secondary fw-bold fs-3")},m(t,s){v(t,e,s)},p:z,d(t){t&&y(e)}}}function Pt(n){let e;return{c(){e=d("span"),e.textContent="✗",f(e,"class","text-danger-dark fw-bold fs-3")},m(t,s){v(t,e,s)},p:z,d(t){t&&y(e)}}}function Qt(n){let e;return{c(){e=d("span"),e.textContent="⇠",f(e,"class","text-success-dark fw-bold fs-3")},m(t,s){v(t,e,s)},p:z,d(t){t&&y(e)}}}function Ut(n){let e;return{c(){e=d("span"),e.textContent="✓",f(e,"class","text-success-dark fw-bold fs-3")},m(t,s){v(t,e,s)},p:z,d(t){t&&y(e)}}}function Vt(n){let e,t,s;return{c(){e=d("button"),f(e,"type","button"),f(e,"class","btn-close")},m(i,l){v(i,e,l),t||(s=P(e,"click",X(n[11])),t=!0)},p:z,d(i){i&&y(e),t=!1,s()}}}function Qe(n){let e,t,s,i,l=R.sanitize(n[0].hint)+"";return{c(){e=d("div"),t=E(),s=d("div"),i=d("p"),f(e,"class","col-1 border-3 border-start border-secondary-subtle"),f(i,"class","p-1"),f(s,"class","col-11")},m(r,o){v(r,e,o),v(r,t,o),v(r,s,o),m(s,i),i.innerHTML=l},p(r,o){o&1&&l!==(l=R.sanitize(r[0].hint)+"")&&(i.innerHTML=l)},d(r){r&&(y(e),y(t),y(s))}}}function Bt(n){let e,t,s,i,l,r,o,c;function a(b,S){return!b[2]&&!b[1].isSubmittedAnswer?Dt:zt}let u=a(n),_=u(n);function k(b,S){return!b[2]&&!b[1].isSelectedAnswer?Nt:It}let g=k(n),w=g(n);function p(b,S){if(!b[2]&&!b[1].isSelectedAnswer)return Vt;if(!b[4]&&b[1].isCorrectAnswer&&b[1].isSubmittedAnswer)return Ut;if(!b[4]&&b[1].isCorrectAnswer&&!b[1].isSubmittedAnswer&&b[2])return Qt;if(!b[4]&&b[1].isSubmittedAnswer)return Pt;if(b[4]&&b[1].isSubmittedAnswer)return jt}let K=p(n),M=K&&K(n),L=!n[4]&&n[0].hint&&(n[2]||n[1].isSelectedAnswer)&&Qe(n);return{c(){e=d("div"),_.c(),t=E(),w.c(),s=E(),i=d("div"),M&&M.c(),o=E(),c=d("div"),L&&L.c(),f(i,"class","col-1 ps-1"),f(e,"id",l="answer"+n[0].id),f(e,"class",r="row border-start border-3 m-1 pt-2 "+n[5]+" svelte-12xdzqf"),le(e,"bg-light",n[4]||!n[2]&&!n[1].isSelectedAnswer&&!n[1].isSubmittedAnswer||n[2]&&!n[1].isSubmittedAnswer&&!n[1].isCorrectAnswer),le(e,"text-bg-success",!n[6]&&!n[4]&&n[2]&&n[1].isCorrectAnswer),le(e,"text-bg-danger",!n[6]&&!n[4]&&n[1].isSelectedAnswer&&!n[1].isCorrectAnswer),le(e,"bg-cancelled",n[6]),f(c,"class","row ms-1 mb-2 me-1")},m(b,S){v(b,e,S),_.m(e,null),m(e,t),w.m(e,null),m(e,s),m(e,i),M&&M.m(i,null),v(b,o,S),v(b,c,S),L&&L.m(c,null)},p(b,[S]){u===(u=a(b))&&_?_.p(b,S):(_.d(1),_=u(b),_&&(_.c(),_.m(e,t))),g===(g=k(b))&&w?w.p(b,S):(w.d(1),w=g(b),w&&(w.c(),w.m(e,s))),K===(K=p(b))&&M?M.p(b,S):(M&&M.d(1),M=K&&K(b),M&&(M.c(),M.m(i,null))),S&1&&l!==(l="answer"+b[0].id)&&f(e,"id",l),S&32&&r!==(r="row border-start border-3 m-1 pt-2 "+b[5]+" svelte-12xdzqf")&&f(e,"class",r),S&54&&le(e,"bg-light",b[4]||!b[2]&&!b[1].isSelectedAnswer&&!b[1].isSubmittedAnswer||b[2]&&!b[1].isSubmittedAnswer&&!b[1].isCorrectAnswer),S&118&&le(e,"text-bg-success",!b[6]&&!b[4]&&b[2]&&b[1].isCorrectAnswer),S&114&&le(e,"text-bg-danger",!b[6]&&!b[4]&&b[1].isSelectedAnswer&&!b[1].isCorrectAnswer),S&96&&le(e,"bg-cancelled",b[6]),!b[4]&&b[0].hint&&(b[2]||b[1].isSelectedAnswer)?L?L.p(b,S):(L=Qe(b),L.c(),L.m(c,null)):L&&(L.d(1),L=null)},i:z,o:z,d(b){b&&(y(e),y(o),y(c)),_.d(),w.d(),M&&M.d(),L&&L.d()}}}function Ft(n,e,t){let{answer:s}=e,{answerContext:i}=e,{answerNumber:l}=e,{questionIsAnswered:r}=e,{submitAnswer:o}=e,{examMode:c}=e;var a,u,_=s.badgeText;const k=()=>o(s.id),g=()=>o(s.id),w=()=>t(6,u=!u);return n.$$set=p=>{"answer"in p&&t(0,s=p.answer),"answerContext"in p&&t(1,i=p.answerContext),"answerNumber"in p&&t(8,l=p.answerNumber),"questionIsAnswered"in p&&t(2,r=p.questionIsAnswered),"submitAnswer"in p&&t(3,o=p.submitAnswer),"examMode"in p&&t(4,c=p.examMode)},n.$$.update=()=>{n.$$.dirty&265&&(Y.unbind(`${_}, ${l}`,"questions"),Y(`${_}, ${l}`,"questions",function(){o(s.id)})),n.$$.dirty&23&&s&&(t(6,u=!1),t(5,a="border-secondary"),c||(r?i.isCorrectAnswer?t(5,a="border-success"):i.isSubmittedAnswer&&t(5,a="border-danger"):i.isSelectedAnswer&&t(5,a="border-danger")))},[s,i,r,o,c,a,u,_,l,k,g,w]}class Rt extends me{constructor(e){super(),_e(this,e,Ft,Bt,oe,{answer:0,answerContext:1,answerNumber:8,questionIsAnswered:2,submitAnswer:3,examMode:4})}}function Gt(n){let e,t,s,i,l;return{c(){e=d("div"),t=d("div"),s=d("button"),s.textContent="Show answer",f(s,"type","button"),f(s,"class","btn btn-warning btn-sm w-100"),f(t,"class","col-md"),f(e,"class","row")},m(r,o){v(r,e,o),m(e,t),m(t,s),i||(l=P(s,"click",X(n[4])),i=!0)},p:z,d(r){r&&y(e),i=!1,l()}}}function Jt(n){let e,t,s=R.sanitize(n[0].text)+"",i,l,r=!n[1]&&Ue(n);return{c(){e=d("div"),t=d("p"),i=E(),r&&r.c(),l=te(),f(t,"class","p-1"),f(e,"class","row border-light border-start border-3 m-1 p-2")},m(o,c){v(o,e,c),m(e,t),t.innerHTML=s,v(o,i,c),r&&r.m(o,c),v(o,l,c)},p(o,c){c&1&&s!==(s=R.sanitize(o[0].text)+"")&&(t.innerHTML=s),o[1]?r&&(r.d(1),r=null):r?r.p(o,c):(r=Ue(o),r.c(),r.m(l.parentNode,l))},d(o){o&&(y(e),y(i),y(l)),r&&r.d(o)}}}function Ue(n){let e,t,s,i,l,r,o,c;return{c(){e=d("div"),t=d("div"),s=d("button"),s.textContent="Ask me again",i=E(),l=d("div"),r=d("button"),r.textContent="I got it!",f(s,"type","button"),f(s,"class","btn btn-danger btn-sm w-100"),f(t,"class","col-md-6 mb-1"),f(r,"type","button"),f(r,"class","btn btn-success btn-sm w-100"),f(l,"class","col-md-6 mb-1"),f(e,"class","row")},m(a,u){v(a,e,u),m(e,t),m(t,s),m(e,i),m(e,l),m(l,r),o||(c=[P(s,"click",X(n[5])),P(r,"click",X(n[6]))],o=!0)},p:z,d(a){a&&y(e),o=!1,qe(c)}}}function Wt(n){let e;function t(l,r){return l[3]?Jt:Gt}let s=t(n),i=s(n);return{c(){i.c(),e=te()},m(l,r){i.m(l,r),v(l,e,r)},p(l,[r]){s===(s=t(l))&&i?i.p(l,r):(i.d(1),i=s(l),i&&(i.c(),i.m(e.parentNode,e)))},i:z,o:z,d(l){l&&y(e),i.d(l)}}}function Xt(n,e,t){let{answer:s}=e,{hasAnswer:i}=e,{submitAnswer:l}=e;var r=!1;function o(){t(3,r=!r)}const c=()=>l(),a=()=>l(s.id);return n.$$set=u=>{"answer"in u&&t(0,s=u.answer),"hasAnswer"in u&&t(1,i=u.hasAnswer),"submitAnswer"in u&&t(2,l=u.submitAnswer)},n.$$.update=()=>{n.$$.dirty&2&&(i?t(3,r=!0):t(3,r=!1))},[s,i,l,r,o,c,a]}class Yt extends me{constructor(e){super(),_e(this,e,Xt,Wt,oe,{answer:0,hasAnswer:1,submitAnswer:2})}}function Ve(n){let e,t,s,i,l,r,o,c;return{c(){e=d("div"),t=d("div"),s=d("button"),s.textContent="Ask me again",i=E(),l=d("div"),r=d("button"),r.textContent="I got it!",f(s,"type","button"),f(s,"class","btn btn-danger btn-sm w-100"),f(t,"class","col-md-6 mb-1"),f(r,"type","button"),f(r,"class","btn btn-success btn-sm w-100"),f(l,"class","col-md-6 mb-1"),f(e,"class","row")},m(a,u){v(a,e,u),m(e,t),m(t,s),m(e,i),m(e,l),m(l,r),o||(c=[P(s,"click",X(n[2])),P(r,"click",X(n[3]))],o=!0)},p:z,d(a){a&&y(e),o=!1,qe(c)}}}function Zt(n){let e,t=!n[0]&&Ve(n);return{c(){t&&t.c(),e=te()},m(s,i){t&&t.m(s,i),v(s,e,i)},p(s,[i]){s[0]?t&&(t.d(1),t=null):t?t.p(s,i):(t=Ve(s),t.c(),t.m(e.parentNode,e))},i:z,o:z,d(s){s&&y(e),t&&t.d(s)}}}function xt(n,e,t){let{hasAnswer:s}=e,{submitAnswer:i}=e;const l=()=>i(),r=()=>i(-1);return n.$$set=o=>{"hasAnswer"in o&&t(0,s=o.hasAnswer),"submitAnswer"in o&&t(1,i=o.submitAnswer)},[s,i,l,r]}class $t extends me{constructor(e){super(),_e(this,e,xt,Zt,oe,{hasAnswer:0,submitAnswer:1})}}function Be(n,e,t){const s=n.slice();return s[7]=e[t],s}function en(n){let e,t,s,i,l,r,o,c,a;return{c(){e=d("div"),t=d("p"),s=d("button"),i=E(),l=d("div"),r=d("img"),f(s,"type","button"),f(s,"class","btn-close"),f(t,"class","bg-white text-end"),f(r,"class","img-fluid border border-5 border-white"),Le(r.src,o="/"+n[2].path)||f(r,"src",o),f(r,"alt",""),f(l,"class","text-center"),f(e,"class","img-fullscreen svelte-z0la5k")},m(u,_){v(u,e,_),m(e,t),m(t,s),m(e,i),m(e,l),m(l,r),c||(a=[P(s,"click",X(n[5])),P(e,"click",n[3])],c=!0)},p(u,_){_&4&&!Le(r.src,o="/"+u[2].path)&&f(r,"src",o)},d(u){u&&y(e),c=!1,qe(a)}}}function tn(n){let e,t,s=[],i=new Map,l=re(n[0]);const r=o=>o[7].id;for(let o=0;o<l.length;o+=1){let c=Be(n,l,o),a=r(c);i.set(a,s[o]=Fe(a,c))}return{c(){e=d("div"),t=d("div");for(let o=0;o<s.length;o+=1)s[o].c();f(t,"class","row row-cols-1 row-cols-sm-3 g-4"),f(e,"class","col-lg")},m(o,c){v(o,e,c),m(e,t);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null)},p(o,c){c&9&&(l=re(o[0]),s=ut(s,c,r,1,o,l,i,t,gt,Fe,null,Be))},d(o){o&&y(e);for(let c=0;c<s.length;c+=1)s[c].d()}}}function Fe(n,e){let t,s,i,l,r,o,c;function a(){return e[4](e[7])}return{key:n,first:null,c(){t=d("div"),s=d("div"),i=d("img"),r=E(),Le(i.src,l="/"+e[7].path)||f(i,"src",l),f(i,"class","card-img-top"),f(i,"alt",""),f(s,"class","card"),he(s,"max-width","18rem"),he(s,"cursor","pointer"),f(t,"class","col"),this.first=t},m(u,_){v(u,t,_),m(t,s),m(s,i),m(t,r),o||(c=P(i,"click",a),o=!0)},p(u,_){e=u,_&1&&!Le(i.src,l="/"+e[7].path)&&f(i,"src",l)},d(u){u&&y(t),o=!1,c()}}}function nn(n){let e;function t(l,r){return l[1]?en:tn}let s=t(n),i=s(n);return{c(){i.c(),e=te()},m(l,r){i.m(l,r),v(l,e,r)},p(l,[r]){s===(s=t(l))&&i?i.p(l,r):(i.d(1),i=s(l),i&&(i.c(),i.m(e.parentNode,e)))},i:z,o:z,d(l){l&&y(e),i.d(l)}}}function sn(n,e,t){let{images:s=[]}=e;var i=!1,l;ft(()=>{Y("esc","images",function(u,_){i&&t(1,i=!1)})});var r;function o(u){r&&r.cancel(),r=kt(()=>{t(1,i=!i),t(2,l=s.find(_=>_.id===u))},100,{maxWait:200}),r()}const c=u=>o(u.id),a=()=>t(1,i=!i);return n.$$set=u=>{"images"in u&&t(0,s=u.images)},n.$$.update=()=>{n.$$.dirty&2&&(i?Y.setScope("images"):Y.setScope("questions"))},[s,i,l,o,c,a]}class ln extends me{constructor(e){super(),_e(this,e,sn,nn,oe,{images:0})}}function Re(n,e,t){const s=n.slice();return s[12]=e[t],s}function Ge(n,e,t){const s=n.slice();return s[12]=e[t],s}function Je(n){let e,t,s,i=n[12].name+"",l,r,o,c,a,u,_;function k(){return n[7](n[12])}return{c(){e=d("div"),t=d("div"),s=d("a"),l=Oe(i),o=E(),c=d("div"),a=d("button"),a.textContent="Add",f(s,"href",r="/decks/"+n[12].id),f(s,"class","link-dark"),f(t,"class","col-9 text-overflow svelte-1gfmo48"),f(a,"class","btn btn-sm btn-primary float-end"),f(c,"class","col-3 d-grid gap-4"),f(e,"class","row mb-1")},m(g,w){v(g,e,w),m(e,t),m(t,s),m(s,l),m(e,o),m(e,c),m(c,a),u||(_=P(a,"click",X(k)),u=!0)},p(g,w){n=g,w&2&&i!==(i=n[12].name+"")&&at(l,i),w&2&&r!==(r="/decks/"+n[12].id)&&f(s,"href",r)},d(g){g&&y(e),u=!1,_()}}}function We(n){let e;return{c(){e=d("hr")},m(t,s){v(t,e,s)},d(t){t&&y(e)}}}function Xe(n){let e,t,s,i=n[12].name+"",l,r,o,c,a,u,_;function k(){return n[8](n[12])}return{c(){e=d("div"),t=d("div"),s=d("a"),l=Oe(i),o=E(),c=d("div"),a=d("button"),a.textContent="Remove",f(s,"href",r="/decks/"+n[12].id),f(s,"class","link-dark"),f(t,"class","col-9 text-overflow svelte-1gfmo48"),f(a,"class","btn btn-sm btn-outline-secondary float-end"),f(c,"class","col-3 d-grid gap-4"),f(e,"class","row mb-1")},m(g,w){v(g,e,w),m(e,t),m(t,s),m(s,l),m(e,o),m(e,c),m(c,a),u||(_=P(a,"click",X(k)),u=!0)},p(g,w){n=g,w&1&&i!==(i=n[12].name+"")&&at(l,i),w&1&&r!==(r="/decks/"+n[12].id)&&f(s,"href",r)},d(g){g&&y(e),u=!1,_()}}}function Ye(n){let e;return{c(){e=d("p"),e.textContent="You don't have any decks yet."},m(t,s){v(t,e,s)},d(t){t&&y(e)}}}function rn(n){let e,t,s,i,l,r,o,c,a,u,_,k,g,w,p,K,M,L,b,S,ne,se,h=re(n[1]),T=[];for(let A=0;A<h.length;A+=1)T[A]=Je(Ge(n,h,A));let j=n[1].length>0&&n[0].length>0&&We(),Z=re(n[0]),Q=[];for(let A=0;A<Z.length;A+=1)Q[A]=Xe(Re(n,Z,A));let O=n[1].length===0&&n[0].length===0&&Ye();return{c(){e=d("button"),e.innerHTML='<i class="bi bi-collection"></i> Add to deck',t=E(),s=d("div"),i=d("div"),i.innerHTML='<h5 id="offcanvasAddToDeckLabel">Add question to deck</h5> <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>',l=E(),r=d("div");for(let A=0;A<T.length;A+=1)T[A].c();o=E(),j&&j.c(),c=E();for(let A=0;A<Q.length;A+=1)Q[A].c();a=E(),O&&O.c(),u=E(),_=d("hr"),k=E(),g=d("div"),w=d("div"),p=d("p"),p.textContent="Create new deck:",K=E(),M=d("div"),L=d("input"),b=E(),S=d("button"),S.textContent="Create deck and add question",f(e,"class","btn btn-outline-secondary btn-sm"),f(e,"type","button"),f(e,"data-bs-toggle","offcanvas"),f(e,"data-bs-target","#offcanvasAddToDeck"),f(e,"aria-controls","offcanvasAddToDeck"),f(i,"class","offcanvas-header"),f(L,"type","text"),f(L,"class","form-control"),f(L,"id","name"),f(L,"name","name"),f(L,"placeholder","My new deck ..."),f(M,"class","mb-3"),f(S,"class","btn btn-sm btn-primary"),f(w,"class","col"),f(g,"class","row"),f(r,"class","offcanvas-body"),f(s,"class","offcanvas offcanvas-end"),f(s,"tabindex","-1"),f(s,"id","offcanvasAddToDeck"),f(s,"aria-labelledby","offcanvasAddToDeckLabel")},m(A,D){v(A,e,D),v(A,t,D),v(A,s,D),m(s,i),m(s,l),m(s,r);for(let C=0;C<T.length;C+=1)T[C]&&T[C].m(r,null);m(r,o),j&&j.m(r,null),m(r,c);for(let C=0;C<Q.length;C+=1)Q[C]&&Q[C].m(r,null);m(r,a),O&&O.m(r,null),m(r,u),m(r,_),m(r,k),m(r,g),m(g,w),m(w,p),m(w,K),m(w,M),m(M,L),Ie(L,n[2]),m(w,b),m(w,S),ne||(se=[P(L,"input",n[9]),P(S,"click",X(n[10]))],ne=!0)},p(A,[D]){if(D&10){h=re(A[1]);let C;for(C=0;C<h.length;C+=1){const I=Ge(A,h,C);T[C]?T[C].p(I,D):(T[C]=Je(I),T[C].c(),T[C].m(r,o))}for(;C<T.length;C+=1)T[C].d(1);T.length=h.length}if(A[1].length>0&&A[0].length>0?j||(j=We(),j.c(),j.m(r,c)):j&&(j.d(1),j=null),D&17){Z=re(A[0]);let C;for(C=0;C<Z.length;C+=1){const I=Re(A,Z,C);Q[C]?Q[C].p(I,D):(Q[C]=Xe(I),Q[C].c(),Q[C].m(r,a))}for(;C<Q.length;C+=1)Q[C].d(1);Q.length=Z.length}A[1].length===0&&A[0].length===0?O||(O=Ye(),O.c(),O.m(r,u)):O&&(O.d(1),O=null),D&4&&L.value!==A[2]&&Ie(L,A[2])},i:z,o:z,d(A){A&&(y(e),y(t),y(s)),Ne(T,A),j&&j.d(),Ne(Q,A),O&&O.d(),ne=!1,qe(se)}}}function on(n,e,t){let{questionId:s}=e,i=[],l=[],r="";ft(()=>{const p=document.getElementById("offcanvasAddToDeck");p.addEventListener("show.bs.offcanvas",K=>{o()}),p.addEventListener("hidden.bs.offcanvas",K=>{t(0,i=[]),t(1,l=[])})});function o(){axios.get("/api/decks/withquestionids").then(function(p){var K=p.data;K.forEach(M=>{M.questions.some(L=>L.id===s)?t(0,i=[...i,{id:M.id,name:M.name}]):t(1,l=[...l,{id:M.id,name:M.name}])})}).catch(function(p){console.log(p),alert(p)})}function c(p){axios.post("/api/decks/"+p+"/addquestion",{question_id:s}).then(function(K){const M=l.find(L=>L.id===p);t(0,i=[...i,M]),t(1,l=l.filter(L=>L.id!==p))}).catch(function(K){alert(K)})}function a(p){axios.post("/api/decks/"+p+"/removequestion",{question_id:s}).then(function(K){const M=i.find(L=>L.id===p);t(1,l=[...l,M]),t(0,i=i.filter(L=>L.id!==p))}).catch(function(K){alert(K)})}function u(){r&&axios.post("/api/decks",{name:r}).then(function(p){const K=p.data;t(1,l=[...l,K]),c(K.id),t(2,r="")}).catch(function(p){alert(p)})}const _=p=>c(p.id),k=p=>a(p.id);function g(){r=this.value,t(2,r)}const w=()=>u();return n.$$set=p=>{"questionId"in p&&t(6,s=p.questionId)},[i,l,r,c,a,u,s,_,k,g,w]}class cn extends me{constructor(e){super(),_e(this,e,on,rn,oe,{questionId:6})}}function Ze(n,e,t){const s=n.slice();return s[20]=e[t],s[21]=e,s[22]=t,s}function fn(n){let e;return{c(){e=d("p"),e.textContent="Loading ..."},m(t,s){v(t,e,s)},p:z,i:z,o:z,d(t){t&&y(e)}}}function an(n){let e,t,s,i,l;const r=[dn,un],o=[];function c(u,_){return u[7]?0:1}e=c(n),t=o[e]=r[e](n);let a=!n[1].isAnswered&&!n[3]&&n[0].type!=="card"&&ct(n);return{c(){t.c(),s=E(),a&&a.c(),i=te()},m(u,_){o[e].m(u,_),v(u,s,_),a&&a.m(u,_),v(u,i,_),l=!0},p(u,_){let k=e;e=c(u),e===k?o[e].p(u,_):(fe(),B(o[k],1,1,()=>{o[k]=null}),ce(),t=o[e],t?t.p(u,_):(t=o[e]=r[e](u),t.c()),U(t,1),t.m(s.parentNode,s)),!u[1].isAnswered&&!u[3]&&u[0].type!=="card"?a?a.p(u,_):(a=ct(u),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i(u){l||(U(t),l=!0)},o(u){B(t),l=!1},d(u){u&&(y(s),y(i)),o[e].d(u),a&&a.d(u)}}}function un(n){let e,t,s,i,l,r,o,c,a,u,_,k,g,w,p,K=n[0].id,M,L,b,S,ne,se,h,T,j,Z,Q,O=n[0].is_invalid&&xe(),A=n[0].needs_review&&$e(),D=n[0].case&&et(n),C=n[0].text&&tt(n),I=n[0].images&&n[0].images.length>0&&nt(n),G=!n[3]&&n[0].hint&&st(n);const ze=[pn,wn,bn],ie=[];function De(q,F){return q[0].type==="mc"?0:q[0].answers.length===0?1:2}a=De(n),u=ie[a]=ze[a](n);let J=!n[3]&&n[1].isAnswered&&n[0].comment&&lt(n),W=n[1].isAnswered&&rt(n),x=ot(n);return{c(){e=d("div"),O&&O.c(),t=E(),A&&A.c(),s=E(),D&&D.c(),i=E(),l=d("div"),C&&C.c(),r=E(),I&&I.c(),o=E(),G&&G.c(),c=E(),u.c(),_=E(),J&&J.c(),k=E(),g=d("div"),w=d("div"),W&&W.c(),p=E(),x.c(),M=E(),L=d("button"),L.innerHTML='<i class="bi bi-pencil"></i> Edit',b=E(),S=d("a"),ne=Oe("Link "),se=d("i"),f(l,"class","row border-start border-3 border-dark m-1 mb-3 pt-2"),f(L,"type","button"),f(L,"class","btn btn-outline-secondary btn-sm ms-1"),f(se,"class","bi bi-box-arrow-up-right"),f(S,"class","btn btn-sm btn-outline-secondary ms-1"),f(S,"href",h="/questions/"+n[0].id),f(S,"target","_blank"),f(S,"role","button"),f(w,"class","d-flex justify-content-end"),f(g,"class","row mt-1 mb-1 pt-2"),f(e,"id",T="question"+n[0].id)},m(q,F){v(q,e,F),O&&O.m(e,null),m(e,t),A&&A.m(e,null),m(e,s),D&&D.m(e,null),m(e,i),m(e,l),C&&C.m(l,null),m(l,r),I&&I.m(l,null),m(e,o),G&&G.m(e,null),m(e,c),ie[a].m(e,null),m(e,_),J&&J.m(e,null),m(e,k),m(e,g),m(g,w),W&&W.m(w,null),m(w,p),x.m(w,null),m(w,M),m(w,L),m(w,b),m(w,S),m(S,ne),m(S,se),j=!0,Z||(Q=P(L,"click",X(n[9])),Z=!0)},p(q,F){q[0].is_invalid?O||(O=xe(),O.c(),O.m(e,t)):O&&(O.d(1),O=null),q[0].needs_review?A||(A=$e(),A.c(),A.m(e,s)):A&&(A.d(1),A=null),q[0].case?D?D.p(q,F):(D=et(q),D.c(),D.m(e,i)):D&&(D.d(1),D=null),q[0].text?C?C.p(q,F):(C=tt(q),C.c(),C.m(l,r)):C&&(C.d(1),C=null),q[0].images&&q[0].images.length>0?I?(I.p(q,F),F&1&&U(I,1)):(I=nt(q),I.c(),U(I,1),I.m(l,null)):I&&(fe(),B(I,1,1,()=>{I=null}),ce()),!q[3]&&q[0].hint?G?G.p(q,F):(G=st(q),G.c(),G.m(e,c)):G&&(G.d(1),G=null);let Me=a;a=De(q),a===Me?ie[a].p(q,F):(fe(),B(ie[Me],1,1,()=>{ie[Me]=null}),ce(),u=ie[a],u?u.p(q,F):(u=ie[a]=ze[a](q),u.c()),U(u,1),u.m(e,_)),!q[3]&&q[1].isAnswered&&q[0].comment?J?J.p(q,F):(J=lt(q),J.c(),J.m(e,k)):J&&(J.d(1),J=null),q[1].isAnswered?W?W.p(q,F):(W=rt(q),W.c(),W.m(w,p)):W&&(W.d(1),W=null),F&1&&oe(K,K=q[0].id)?(fe(),B(x,1,1,z),ce(),x=ot(q),x.c(),U(x,1),x.m(w,M)):x.p(q,F),(!j||F&1&&h!==(h="/questions/"+q[0].id))&&f(S,"href",h),(!j||F&1&&T!==(T="question"+q[0].id))&&f(e,"id",T)},i(q){j||(U(I),U(u),U(x),j=!0)},o(q){B(I),B(u),B(x),j=!1},d(q){q&&y(e),O&&O.d(),A&&A.d(),D&&D.d(),C&&C.d(),I&&I.d(),G&&G.d(),ie[a].d(),J&&J.d(),W&&W.d(),x.d(q),Z=!1,Q()}}}function dn(n){let e,t,s,i;function l(o){n[12](o)}let r={toggleEditor:n[9]};return n[0]!==void 0&&(r.question=n[0]),t=new yt({props:r}),ae.push(()=>ue(t,"question",l)),{c(){e=d("div"),be(t.$$.fragment),f(e,"class","my-5 pt-1 pb-3 border-dark"),he(e,"border-top","dotted"),he(e,"border-bottom","dotted"),he(e,"border-width","1px")},m(o,c){v(o,e,c),we(t,e,null),i=!0},p(o,c){const a={};!s&&c&1&&(s=!0,a.question=o[0],de(()=>s=!1)),t.$set(a)},i(o){i||(U(t.$$.fragment,o),i=!0)},o(o){B(t.$$.fragment,o),i=!1},d(o){o&&y(e),pe(t)}}}function xe(n){let e;return{c(){e=d("div"),e.innerHTML='<div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-cone-striped"></i> <strong>Question is marked invalid</strong> and safe to skip!</div></div>',f(e,"class","row")},m(t,s){v(t,e,s)},d(t){t&&y(e)}}}function $e(n){let e;return{c(){e=d("div"),e.innerHTML='<div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-eraser-fill"></i> <strong>Question needs review</strong> - Please review the question and answer choices and make sure they are correct and clear. Afterwards, remove the &quot;Needs review&quot; flag.</div></div>',f(e,"class","row")},m(t,s){v(t,e,s)},d(t){t&&y(e)}}}function et(n){let e,t,s,i,l=R.sanitize(n[0].case.text)+"";return{c(){e=d("div"),t=d("p"),t.innerHTML='<i class="bi bi-clipboard2-pulse"></i> CASE',s=E(),i=d("p"),f(t,"class","small fw-bold"),f(e,"class","alert alert-light"),f(e,"role","alert")},m(r,o){v(r,e,o),m(e,t),m(e,s),m(e,i),i.innerHTML=l},p(r,o){o&1&&l!==(l=R.sanitize(r[0].case.text)+"")&&(i.innerHTML=l)},d(r){r&&y(e)}}}function tt(n){let e,t,s=R.sanitize(n[0].text)+"";return{c(){e=d("div"),t=d("p"),f(t,"id","questionText"),f(e,"class","col-lg")},m(i,l){v(i,e,l),m(e,t),t.innerHTML=s},p(i,l){l&1&&s!==(s=R.sanitize(i[0].text)+"")&&(t.innerHTML=s)},d(i){i&&y(e)}}}function nt(n){let e,t,s;function i(r){n[13](r)}let l={};return n[0].images!==void 0&&(l.images=n[0].images),e=new ln({props:l}),ae.push(()=>ue(e,"images",i)),{c(){be(e.$$.fragment)},m(r,o){we(e,r,o),s=!0},p(r,o){const c={};!t&&o&1&&(t=!0,c.images=r[0].images,de(()=>t=!1)),e.$set(c)},i(r){s||(U(e.$$.fragment,r),s=!0)},o(r){B(e.$$.fragment,r),s=!1},d(r){pe(e,r)}}}function st(n){let e;function t(l,r){return l[8]?_n:mn}let s=t(n),i=s(n);return{c(){i.c(),e=te()},m(l,r){i.m(l,r),v(l,e,r)},p(l,r){s===(s=t(l))&&i?i.p(l,r):(i.d(1),i=s(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){l&&y(e),i.d(l)}}}function mn(n){let e,t,s;return{c(){e=d("button"),e.innerHTML='<i class="bi bi-question"></i> Show hint',f(e,"type","button"),f(e,"class","btn btn-outline-secondary btn-sm mb-3")},m(i,l){v(i,e,l),t||(s=P(e,"click",X(n[14])),t=!0)},p:z,d(i){i&&y(e),t=!1,s()}}}function _n(n){let e,t,s=R.sanitize(n[0].hint)+"";return{c(){e=d("div"),t=d("p"),f(e,"class","row border-start border-3 border-secondary-subtle m-1 mt-3 mb-3")},m(i,l){v(i,e,l),m(e,t),t.innerHTML=s},p(i,l){l&1&&s!==(s=R.sanitize(i[0].hint)+"")&&(t.innerHTML=s)},d(i){i&&y(e)}}}function bn(n){let e,t,s;function i(r){n[18](r)}let l={submitAnswer:n[5],hasAnswer:!!n[4]};return n[0].answers[0]!==void 0&&(l.answer=n[0].answers[0]),e=new Yt({props:l}),ae.push(()=>ue(e,"answer",i)),{c(){be(e.$$.fragment)},m(r,o){we(e,r,o),s=!0},p(r,o){const c={};o&32&&(c.submitAnswer=r[5]),o&16&&(c.hasAnswer=!!r[4]),!t&&o&1&&(t=!0,c.answer=r[0].answers[0],de(()=>t=!1)),e.$set(c)},i(r){s||(U(e.$$.fragment,r),s=!0)},o(r){B(e.$$.fragment,r),s=!1},d(r){pe(e,r)}}}function wn(n){let e,t;return e=new $t({props:{submitAnswer:n[5],hasAnswer:!!n[4]}}),{c(){be(e.$$.fragment)},m(s,i){we(e,s,i),t=!0},p(s,i){const l={};i&32&&(l.submitAnswer=s[5]),i&16&&(l.hasAnswer=!!s[4]),e.$set(l)},i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){pe(e,s)}}}function pn(n){let e=[],t=new Map,s,i,l=re(n[0].answers);const r=o=>o[20].id;for(let o=0;o<l.length;o+=1){let c=Ze(n,l,o),a=r(c);t.set(a,e[o]=it(a,c))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();s=te()},m(o,c){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(o,c);v(o,s,c),i=!0},p(o,c){c&43&&(l=re(o[0].answers),fe(),e=ut(e,c,r,1,o,l,t,s.parentNode,ht,it,s,Ze),ce())},i(o){if(!i){for(let c=0;c<l.length;c+=1)U(e[c]);i=!0}},o(o){for(let c=0;c<e.length;c+=1)B(e[c]);i=!1},d(o){o&&y(s);for(let c=0;c<e.length;c+=1)e[c].d(o)}}}function it(n,e){let t,s,i,l,r,o;function c(k){e[15](k,e[20],e[21],e[22])}function a(k){e[16](k,e[20])}function u(k){e[17](k)}let _={submitAnswer:e[5],questionIsAnswered:e[1].isAnswered,answerNumber:e[22]+1};return e[20]!==void 0&&(_.answer=e[20]),e[1].answerContext[e[20].id]!==void 0&&(_.answerContext=e[1].answerContext[e[20].id]),e[3]!==void 0&&(_.examMode=e[3]),s=new Rt({props:_}),ae.push(()=>ue(s,"answer",c)),ae.push(()=>ue(s,"answerContext",a)),ae.push(()=>ue(s,"examMode",u)),{key:n,first:null,c(){t=te(),be(s.$$.fragment),this.first=t},m(k,g){v(k,t,g),we(s,k,g),o=!0},p(k,g){e=k;const w={};g&32&&(w.submitAnswer=e[5]),g&2&&(w.questionIsAnswered=e[1].isAnswered),g&1&&(w.answerNumber=e[22]+1),!i&&g&1&&(i=!0,w.answer=e[20],de(()=>i=!1)),!l&&g&3&&(l=!0,w.answerContext=e[1].answerContext[e[20].id],de(()=>l=!1)),!r&&g&8&&(r=!0,w.examMode=e[3],de(()=>r=!1)),s.$set(w)},i(k){o||(U(s.$$.fragment,k),o=!0)},o(k){B(s.$$.fragment,k),o=!1},d(k){k&&y(t),pe(s,k)}}}function lt(n){let e,t,s,i=R.sanitize(n[0].comment)+"";return{c(){e=d("div"),t=d("div"),s=d("div"),f(s,"class","alert alert-light"),f(s,"role","alert"),f(t,"class","col"),f(e,"class","row")},m(l,r){v(l,e,r),m(e,t),m(t,s),s.innerHTML=i},p(l,r){r&1&&i!==(i=R.sanitize(l[0].comment)+"")&&(s.innerHTML=i)},d(l){l&&y(e)}}}function rt(n){let e,t,s;return{c(){e=d("button"),e.innerHTML='<i class="bi bi-arrow-counterclockwise"></i> Reset',f(e,"type","button"),f(e,"class","btn btn-outline-secondary btn-sm me-1")},m(i,l){v(i,e,l),t||(s=P(e,"click",X(function(){pt(n[6])&&n[6].apply(this,arguments)})),t=!0)},p(i,l){n=i},d(i){i&&y(e),t=!1,s()}}}function ot(n){let e,t;return e=new cn({props:{questionId:n[0].id}}),{c(){be(e.$$.fragment)},m(s,i){we(e,s,i),t=!0},p(s,i){const l={};i&1&&(l.questionId=s[0].id),e.$set(l)},i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){pe(e,s)}}}function ct(n){let e,t,s,i;return{c(){e=d("div"),t=d("button"),t.textContent="→ Show answer",f(t,"type","button"),f(t,"class","btn btn-outline-secondary btn-sm"),f(e,"class","mt-3")},m(l,r){v(l,e,r),m(e,t),s||(i=P(t,"click",X(n[19])),s=!0)},p:z,d(l){l&&y(e),s=!1,i()}}}function gn(n){let e,t,s,i;const l=[an,fn],r=[];function o(c,a){return c[0]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),s=te()},m(c,a){r[e].m(c,a),v(c,s,a),i=!0},p(c,[a]){let u=e;e=o(c),e===u?r[e].p(c,a):(fe(),B(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(c,a):(t=r[e]=l[e](c),t.c()),U(t,1),t.m(s.parentNode,s))},i(c){i||(U(t),i=!0)},o(c){B(t),i=!1},d(c){c&&y(s),r[e].d(c)}}}function hn(n){const e=n.target;!e.classList.contains("bg-danger-subtle")&&!e.classList.contains("bg-warning-subtle")&&!e.classList.contains("bg-success-subtle")?e.classList.add("bg-success-subtle"):e.classList.contains("bg-success-subtle")?(e.classList.remove("bg-success-subtle"),e.classList.add("bg-danger-subtle")):e.classList.contains("bg-danger-subtle")?(e.classList.remove("bg-danger-subtle"),e.classList.add("bg-warning-subtle")):e.classList.contains("bg-warning-subtle")&&e.classList.remove("bg-warning-subtle")}function kn(n,e,t){let{question:s}=e,{questionContext:i}=e,{helpUsed:l}=e,{answerChoice:r}=e,{submitAnswer:o}=e,{deleteAnswer:c}=e,{examMode:a}=e,{updateCurrentQuestionData:u}=e,{settingsShuffleAnswers:_}=e;var k=!1,g=i.isAnswered;function w(){const h=!k;h&&u?u().then(()=>{t(7,k=h)}):t(7,k=h)}function p(h){s=h,t(0,s),t(11,_),t(1,i)}function K(h){n.$$.not_equal(s.images,h)&&(s.images=h,t(0,s),t(11,_),t(1,i))}const M=()=>{t(8,g=!0),t(2,l=!0)};function L(h,T,j,Z){j[Z]=h,t(0,s),t(11,_),t(1,i)}function b(h,T){n.$$.not_equal(i.answerContext[T.id],h)&&(i.answerContext[T.id]=h,t(1,i))}function S(h){a=h,t(3,a)}function ne(h){n.$$.not_equal(s.answers[0],h)&&(s.answers[0]=h,t(0,s),t(11,_),t(1,i))}const se=()=>o();return n.$$set=h=>{"question"in h&&t(0,s=h.question),"questionContext"in h&&t(1,i=h.questionContext),"helpUsed"in h&&t(2,l=h.helpUsed),"answerChoice"in h&&t(4,r=h.answerChoice),"submitAnswer"in h&&t(5,o=h.submitAnswer),"deleteAnswer"in h&&t(6,c=h.deleteAnswer),"examMode"in h&&t(3,a=h.examMode),"updateCurrentQuestionData"in h&&t(10,u=h.updateCurrentQuestionData),"settingsShuffleAnswers"in h&&t(11,_=h.settingsShuffleAnswers)},n.$$.update=()=>{n.$$.dirty&2051&&(s.answers.forEach((h,T)=>{h.badgeText="ABCDEFGHIJKLMN".charAt(T)}),s&&s.type==="mc"&&_&&!i.isAnswered&&!Object.values(i.answerContext).some(h=>h.isSelectedAnswer)&&t(0,s.answers=vt.shuffle(s.answers),s)),n.$$.dirty&3&&(t(8,g=i.isAnswered),t(2,l=i.isAnswered)),n.$$.dirty&1&&(()=>{var h=document.querySelectorAll("#questionText li");[].map.call(h,function(T){T.addEventListener("click",hn,!1)})})()},[s,i,l,a,r,o,c,k,g,w,u,_,p,K,M,L,b,S,ne,se]}class qn extends me{constructor(e){super(),_e(this,e,kn,gn,oe,{question:0,questionContext:1,helpUsed:2,answerChoice:4,submitAnswer:5,deleteAnswer:6,examMode:3,updateCurrentQuestionData:10,settingsShuffleAnswers:11})}}export{qn as S,Y as h};
