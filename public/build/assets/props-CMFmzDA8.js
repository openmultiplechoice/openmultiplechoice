import{O as l,w as m,P as h,L as w,Q as Y,R as q,g as P,a as p,T as y,n as B,V as M,W as N,X as U,Y as $,S as z,Z as x,_ as Z,$ as C,a0 as G,a1 as Q,a2 as V,a3 as W}from"./if-BZUX_OG7.js";function A(e,t,n){if(e==null)return t(void 0),l;const r=m(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const _=[];function H(e,t=l){let n=null;const r=new Set;function s(i){if(h(e,i)&&(e=i,n)){const o=!_.length;for(const u of r)u[1](),_.push(u,e);if(o){for(let u=0;u<_.length;u+=2)_[u][0](_[u+1]);_.length=0}}}function f(i){s(i(e))}function c(i,o=l){const u=[i,o];return r.add(u),r.size===1&&(n=t(s,f)||l),i(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:f,subscribe:c}}function X(e){let t;return A(e,n=>t=n)(),t}let S=!1,O=Symbol();function J(e,t,n){const r=n[t]??={store:null,source:q(void 0),unsubscribe:l};if(r.store!==e&&!(O in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=l;else{var s=!0;r.unsubscribe=A(e,f=>{s?r.source.v=f:p(r.source,f)}),s=!1}return e&&O in n?X(e):P(r.source)}function K(){const e={};function t(){w(()=>{for(var n in e)e[n].unsubscribe();Y(e,O,{enumerable:!1,value:!0})})}return[e,t]}function k(e,t,n){return e.set(n),t}function j(e){var t=S;try{return S=!1,[e(),S]}finally{S=t}}function ee(e,t=1){const n=e();return e(n+t),n}function ne(e,t,n,r){var s=(n&W)!==0,f=(n&V)!==0,c=r,i=!0,o=()=>(i&&(i=!1,c=f?m(r):r),c),u;if(s){var L=z in e||x in e;u=y(e,t)?.set??(L&&t in e?a=>e[t]=a:void 0)}var b,E=!1;s?[b,E]=j(()=>e[t]):b=e[t],b===void 0&&r!==void 0&&(b=o(),u&&(C(),u(b)));var d;if(d=()=>{var a=e[t];return a===void 0?o():(i=!0,a)},(n&G)===0)return d;if(u){var R=e.$$legacy;return(function(a,g){return arguments.length>0?((!g||R||E)&&u(g?d():a),a):d()})}var I=!1,v=((n&Q)!==0?U:Z)(()=>(I=!1,d()));s&&P(v);var D=M;return(function(a,g){if(arguments.length>0){const T=g?P(v):s?B(a):a;return p(v,T),I=!0,c!==void 0&&(c=T),a}return $&&I||(D.f&N)!==0?v.v:P(v)})}export{K as a,k as b,ne as p,J as s,ee as u,H as w};
