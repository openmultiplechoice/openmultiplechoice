import{S as q,i as E,s as A,e as B,a as d,n as v,d as p,A as I,b as h,g as w,c as n,h as u,l as y,r as L}from"./index-CovtvcR3.js";function M(l){let t;return{c(){t=h("p"),t.textContent="Loading ..."},m(i,e){d(i,t,e)},p:v,d(i){i&&p(t)}}}function N(l){let t,i,e,s,c,o,f,k,m,D,g,x,b,_,U,S,C,V;return{c(){t=h("h4"),t.textContent="Session",i=w(),e=h("div"),s=h("input"),c=w(),o=h("label"),o.textContent="Shuffle answers",f=w(),k=h("div"),m=h("input"),D=w(),g=h("label"),g.textContent="Show sidebar",x=w(),b=h("div"),_=h("input"),U=w(),S=h("label"),S.textContent='Use "exam mode": answers and comments remain hidden until all questions are answered',n(s,"class","form-check-input"),n(s,"type","checkbox"),n(s,"role","switch"),n(o,"class","form-check-label"),n(o,"for","flexSwitchCheckDefault"),n(e,"class","form-check form-switch"),n(m,"class","form-check-input"),n(m,"type","checkbox"),n(m,"role","switch"),n(g,"class","form-check-label"),n(g,"for","flexSwitchCheckDefault"),n(k,"class","form-check form-switch"),n(_,"class","form-check-input"),n(_,"type","checkbox"),n(_,"role","switch"),n(S,"class","form-check-label"),n(S,"for","flexSwitchCheckDefault"),n(b,"class","form-check form-switch")},m(a,r){d(a,t,r),d(a,i,r),d(a,e,r),u(e,s),s.checked=l[0].session_shuffle_answers,u(e,c),u(e,o),d(a,f,r),d(a,k,r),u(k,m),m.checked=l[0].session_show_sidebar,u(k,D),u(k,g),d(a,x,r),d(a,b,r),u(b,_),_.checked=l[0].session_exam_mode,u(b,U),u(b,S),C||(V=[y(s,"change",l[1]),y(m,"change",l[2]),y(_,"change",l[3])],C=!0)},p(a,r){r&1&&(s.checked=a[0].session_shuffle_answers),r&1&&(m.checked=a[0].session_show_sidebar),r&1&&(_.checked=a[0].session_exam_mode)},d(a){a&&(p(t),p(i),p(e),p(f),p(k),p(x),p(b)),C=!1,L(V)}}}function j(l){let t;function i(c,o){return c[0]?N:M}let e=i(l),s=e(l);return{c(){s.c(),t=B()},m(c,o){s.m(c,o),d(c,t,o)},p(c,[o]){e===(e=i(c))&&s?s.p(c,o):(s.d(1),s=e(c),s&&(s.c(),s.m(t.parentNode,t)))},i:v,o:v,d(c){c&&p(t),s.d(c)}}}function z(l,t,i){var e;I(()=>{axios.get("/api/users/me/settings").then(function(f){i(0,e=f.data)}).catch(function(f){alert(f),console.log(f)})});function s(){e.session_shuffle_answers=this.checked,i(0,e)}function c(){e.session_show_sidebar=this.checked,i(0,e)}function o(){e.session_exam_mode=this.checked,i(0,e)}return l.$$.update=()=>{l.$$.dirty&1&&e&&axios.put("/api/users/me/settings",e).then(function(f){}).catch(function(f){alert(f)})},[e,s,c,o]}class F extends q{constructor(t){super(),E(this,t,z,j,A,{})}}const G=document.getElementById("UserSettingsView");new F({target:G});
