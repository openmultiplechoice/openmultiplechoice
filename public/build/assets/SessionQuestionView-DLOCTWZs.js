import{d as Ae,p as ke,a as l,s as Y,f as d,b as Q,i as a,c as v,t as $,q as F,e as n,h as ye,l as xe,g as s,u as p,j as Z,m as Be}from"./render-CKlhfUir.js";import{p as K,e as pe,i as Te}from"./event-modifiers-C6wGOBTV.js";import{i as f}from"./if-BNMTqS0Q.js";import{h as Le,Q as He,k as Ke}from"./QuestionForm-SSJWuZ-w.js";import{h as ve}from"./html-B-Sg0LcD.js";import{a as ce}from"./attributes-BFEBEIuJ.js";import{p as we,u as Ee}from"./props-DvclEWYl.js";import{r as ue}from"./legacy-client-CeCtv5iu.js";import{p as le,d as Pe}from"./purify.es-CmVf96vk.js";import{_ as Re}from"./lodash-d8dSvcKh.js";import{s as Me}from"./class-BfJg_ovI.js";import{o as ze}from"./index-client-50NiBbLk.js";import{b as Qe}from"./input-BuyI9aNM.js";import{b as Ue}from"./this-B0jBYMPO.js";var Ge=d('<div class="col-1 border-start-3 cursor-pointer svelte-1tl7wkh"><p class="badge text-bg-light my-0"> </p></div>'),Je=d('<div class="col-1 border-start-3"><p class="badge text-bg-light my-0"> </p></div>'),We=d('<div class="col-9 cursor-pointer svelte-1tl7wkh"><p class="px-1 my-0 trix-content"><!></p></div>'),Xe=d('<div class="col-9"><p class="px-1 my-0 trix-content"><!></p></div>'),Ye=d('<span title="Percentage of users who chose this answer"> </span>'),Ze=d('<div class="d-flex justify-content-end align-items-center"><button type="button" class="btn btn-sm p-0"><span class="text-secondary">&cross;</span></button> <div class="vr mx-1"></div> <button type="button" class="btn btn-sm p-0"><span class="text-secondary">&check;</span></button></div>'),$e=d('<span class="text-light fw-bold fs-4">&check;</span>'),et=d('<span class="text-light fw-bold fs-4">&#8672;</span>'),tt=d('<span class="text-light fw-bold fs-4">&cross;</span>'),at=d('<span class="text-secondary fw-bold fs-4">&check;</span>'),st=d('<div class="col-1 border-3"></div> <div class="col-9"><p class="p-1 trix-content"><!></p></div>',1),nt=d('<div style="min-height: 3.6rem; box-shadow: 4px 4px rgba(0,0,0,.2);"><!> <!> <div class="col-2"><div class="d-flex align-items-center justify-content-end"><!> <!></div></div></div> <div class="row ms-1 mb-2 me-1"><!></div>',1);function rt(ee,e){ke(e,!0);var t=Y(void 0),r=Y(void 0),m=e.answer.badgeText;ue(()=>{Le.unbind(`${m}, ${e.answerNumber}`,"questions"),Le(`${m}, ${e.answerNumber}`,"questions",function(){e.submitAnswer(e.answer.id)})}),ue(()=>{e.answer&&(l(t,""),e.examMode?l(r,""):e.questionIsAnswered?(l(r,""),e.answerContext.isCorrectAnswer?l(t,"border-success"):e.answerContext.isSubmittedAnswer&&l(t,"border-danger")):e.answerContext.isSelectedAnswer&&(l(r,""),l(t,"border-danger")))});var g=nt(),C=Q(g);let A;var D=a(C);{var j=_=>{var w=Ge();w.__click=()=>e.submitAnswer(e.answer.id);var y=a(w),S=a(y);$(()=>xe(S,m)),n(_,w)},V=_=>{var w=Je(),y=a(w),S=a(y);$(()=>xe(S,m)),n(_,w)};f(D,_=>{!e.questionIsAnswered&&!e.answerContext.isSubmittedAnswer?_(j):_(V,!1)})}var x=v(D,2);{var k=_=>{var w=We();w.__click=()=>e.submitAnswer(e.answer.id);var y=a(w),S=a(y);ve(S,()=>le.sanitize(e.answer.text)),n(_,w)},q=_=>{var w=Xe(),y=a(w),S=a(y);ve(S,()=>le.sanitize(e.answer.text)),n(_,w)};f(x,_=>{!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer?_(k):_(q,!1)})}var O=v(x,2),b=a(O),c=a(b);{var P=_=>{var w=Ye();let y;var S=a(w);$(()=>{y=Me(w,1,"badge",null,y,{"text-dark":!e.answerContext.isSubmittedAnswer&&!e.answerContext.isCorrectAnswer}),xe(S,`${e.answer.answer_percentage??""}%`)}),n(_,w)};f(c,_=>{e.questionIsAnswered&&!e.examMode&&e.settingsShowAnswerStats&&e.answer.answer_percentage!=null&&_(P)})}var U=v(c,2);{var be=_=>{var w=Ze(),y=a(w),S=p(()=>K(()=>l(r,F(r)==="incorrect"?"":"incorrect",!0)));y.__click=function(...W){s(S)?.apply(this,W)};var ne=v(y,4),R=p(()=>K(()=>l(r,F(r)==="correct"?"":"correct",!0)));ne.__click=function(...W){s(R)?.apply(this,W)},n(_,w)},G=_=>{var w=Z(),y=Q(w);{var S=R=>{var W=$e();n(R,W)},ne=R=>{var W=Z(),o=Q(W);{var h=I=>{var re=et();n(I,re)},M=I=>{var re=Z(),me=Q(re);{var Ce=ie=>{var de=tt();n(ie,de)},_e=ie=>{var de=Z(),T=Q(de);{var L=B=>{var oe=at();n(B,oe)};f(T,B=>{e.examMode&&e.answerContext.isSubmittedAnswer&&B(L)},!0)}n(ie,de)};f(me,ie=>{!e.examMode&&e.answerContext.isSubmittedAnswer?ie(Ce):ie(_e,!1)},!0)}n(I,re)};f(o,I=>{!e.examMode&&e.answerContext.isCorrectAnswer&&!e.answerContext.isSubmittedAnswer&&e.questionIsAnswered?I(h):I(M,!1)},!0)}n(R,W)};f(y,R=>{!e.examMode&&e.answerContext.isCorrectAnswer&&e.answerContext.isSubmittedAnswer?R(S):R(ne,!1)},!0)}n(_,w)};f(U,_=>{!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer?_(be):_(G,!1)})}var J=v(C,2),te=a(J);{var ae=_=>{var w=st(),y=v(Q(w),2),S=a(y),ne=a(S);ve(ne,()=>le.sanitize(e.answer.hint)),n(_,w)};f(te,_=>{!e.examMode&&e.answer.hint&&(e.questionIsAnswered||e.answerContext.isSelectedAnswer)&&_(ae)})}$(()=>{ce(C,"id",`answer${e.answer.id??""}`),A=Me(C,1,`row border border-3 rounded m-1 py-2 d-flex align-items-center ${F(t)??""}`,"svelte-1tl7wkh",A,{"bg-secondary-subtle":e.examMode||!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer&&!e.answerContext.isSubmittedAnswer||e.questionIsAnswered&&!e.answerContext.isSubmittedAnswer&&!e.answerContext.isCorrectAnswer,"text-dark":e.examMode||!e.questionIsAnswered&&!e.answerContext.isSelectedAnswer&&!e.answerContext.isSubmittedAnswer||e.questionIsAnswered&&!e.answerContext.isSubmittedAnswer&&!e.answerContext.isCorrectAnswer,"text-bg-success":!e.examMode&&e.questionIsAnswered&&e.answerContext.isCorrectAnswer,"text-bg-danger":!e.examMode&&e.answerContext.isSelectedAnswer&&!e.answerContext.isCorrectAnswer,"bg-incorrect":F(r)==="incorrect","bg-correct":F(r)==="correct"})}),n(ee,g),ye()}Ae(["click"]);var it=d('<div class="row"><div class="col-md-6 mb-1"><button type="button" class="btn btn-danger btn-sm w-100">&cross; Ask me again</button></div> <div class="col-md-6 mb-1"><button type="button" class="btn btn-success btn-sm w-100">&check; OK</button></div></div>'),ot=d('<div style="box-shadow: 4px 4px rgba(0,0,0,.2);" class="row border-start border-3 rounded bg-secondary-subtle m-1 mb-3 p-2"><p class="p-1"><!></p></div> <!>',1),dt=d('<div class="row"><div class="col-md"><button type="button" class="btn btn-warning btn-sm w-100">Show answer</button></div></div>');function vt(ee,e){ke(e,!0);var t=Y(!1);ue(()=>{e.hasAnswer?l(t,!0):l(t,!1)});function r(){l(t,!F(t))}var m=Z(),g=Q(m);{var C=D=>{var j=ot(),V=Q(j),x=a(V),k=a(x);ve(k,()=>le.sanitize(e.answer.text));var q=v(V,2);{var O=b=>{var c=it(),P=a(c),U=a(P),be=p(()=>K(()=>e.submitAnswer()));U.__click=function(...ae){s(be)?.apply(this,ae)};var G=v(P,2),J=a(G),te=p(()=>K(()=>e.submitAnswer(e.answer.id)));J.__click=function(...ae){s(te)?.apply(this,ae)},n(b,c)};f(q,b=>{e.hasAnswer||b(O)})}n(D,j)},A=D=>{var j=dt(),V=a(j),x=a(V),k=p(()=>K(r));x.__click=function(...q){s(k)?.apply(this,q)},n(D,j)};f(g,D=>{F(t)?D(C):D(A,!1)})}n(ee,m),ye()}Ae(["click"]);var lt=d('<div class="row"><div class="col-md-6 mb-1"><button type="button" class="btn btn-danger btn-sm w-100">Ask me again</button></div> <div class="col-md-6 mb-1"><button type="button" class="btn btn-success btn-sm w-100">I got it!</button></div></div>');function ct(ee,e){ke(e,!0);var t=Z(),r=Q(t);{var m=g=>{var C=lt(),A=a(C),D=a(A),j=p(()=>K(()=>e.submitAnswer()));D.__click=function(...q){s(j)?.apply(this,q)};var V=v(A,2),x=a(V),k=p(()=>K(()=>e.submitAnswer(-1)));x.__click=function(...q){s(k)?.apply(this,q)},n(g,C)};f(r,g=>{e.hasAnswer||g(m)})}n(ee,t),ye()}Ae(["click"]);var ut=d('<div class="col"><div class="card" style="max-width: 18rem; cursor: pointer;"><img class="card-img-top" alt=""/></div></div>'),bt=d('<div class="col-lg"><div class="row row-cols-1 row-cols-sm-3 g-4"></div></div>'),_t=d('<div class="img-fullscreen svelte-1kr8lcu"><p class="bg-white text-end"><button type="button" class="btn-close"></button></p> <div class="text-center"><img class="img-fluid border border-5 border-white" alt=""/></div></div>');function ft(ee,e){ke(e,!0);let t=we(e,"images",19,()=>[]);var r=Y(!1),m=Y(void 0);ue(()=>{F(r)?Le.setScope("images"):Le.setScope("questions")}),ze(()=>{Le("esc","images",function(x,k){F(r)&&l(r,!1)})});var g;function C(x){g&&g.cancel(),g=Pe(()=>{l(r,!F(r)),l(m,t().find(k=>k.id===x),!0)},100,{maxWait:200}),g()}var A=Z(),D=Q(A);{var j=x=>{var k=bt(),q=a(k);pe(q,21,t,O=>O.id,(O,b)=>{var c=ut(),P=a(c),U=a(P);U.__click=()=>C(s(b).id),$(()=>ce(U,"src",`/${s(b).path??""}`)),n(O,c)}),n(x,k)},V=x=>{var k=_t();k.__click=C;var q=a(k),O=a(q),b=p(()=>K(()=>l(r,!F(r))));O.__click=function(...U){s(b)?.apply(this,U)};var c=v(q,2),P=a(c);$(()=>ce(P,"src",`/${F(m).path??""}`)),n(x,k)};f(D,x=>{F(r)?x(V,!1):x(j)})}n(ee,A),ye()}Ae(["click"]);var wt=d('<span class="badge text-bg-light"> </span>'),mt=d('<input type="text" class="form-control mb-3" placeholder="Filter decks ..."/>'),gt=d('<div class="row mb-1"><div class="col-9 text-truncate"><a class="link-dark"> </a></div> <div class="col-3 d-grid gap-4"><button class="btn btn-sm btn-outline-secondary float-end">Remove</button></div></div>'),ht=d("<hr/>"),xt=d('<div class="row mb-1"><div class="col-9 text-truncate"><a class="link-dark"> </a></div> <div class="col-3 d-grid gap-4"><button class="btn btn-sm btn-primary float-end">Add</button></div></div>'),At=d('<div class="alert alert-light text-center" role="alert">No decks found</div>'),kt=d("<!> <!> <!> <!> <!>",1),yt=d('<div class="d-flex justify-content-center"><div class="spinner-border text-secondary" role="status"><span class="visually-hidden">Loading decks ...</span></div></div>'),Ct=d('<button type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasAddToDeck" aria-controls="offcanvasAddToDeck"><i class="bi bi-collection"></i> Add to deck <!></button> <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasAddToDeck" aria-labelledby="offcanvasAddToDeckLabel"><div class="offcanvas-header"><h5 id="offcanvasAddToDeckLabel">Add question to deck</h5> <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button></div> <div class="offcanvas-body pb-0"><!> <hr/> <div class="row sticky-bottom bg-white mt-3"><div class="col"><p>Create new deck:</p> <div class="mb-2"><input type="text" class="form-control" id="name" name="name" placeholder="My new deck ..."/></div> <button class="btn btn-sm btn-primary mb-3">Create deck and add question</button></div></div></div></div>',1);function qt(ee,e){ke(e,!0);let t=we(e,"questionAddToDeckIncludedCount",15),r=Y(void 0),m=Y(void 0),g=Y(""),C=Y(void 0),A=Y("");ze(()=>{const o=document.getElementById("offcanvasAddToDeck");o.addEventListener("show.bs.offcanvas",h=>{D()}),o.addEventListener("shown.bs.offcanvas",h=>{k()}),o.addEventListener("hidden.bs.offcanvas",h=>{l(r,void 0),l(m,void 0),l(A,"")})});function D(){axios.get("/api/decks/withquestionids").then(function(o){var h=o.data;l(r,[],!0),l(m,[],!0),h.forEach(M=>{M.questions.some(I=>I.id===e.questionId)?l(r,[...s(r),{id:M.id,name:M.name}],!0):l(m,[...s(m),{id:M.id,name:M.name}],!0)}),t(s(r).length)}).catch(function(o){console.log(o),alert(o)})}function j(o){axios.post("/api/decks/"+o+"/addquestion",{question_id:e.questionId}).then(function(h){const M=s(m).find(I=>I.id===o);l(r,[...s(r),M],!0),l(m,s(m).filter(I=>I.id!==o),!0),Ee(t)}).catch(function(h){alert(h)})}function V(o){axios.post("/api/decks/"+o+"/removequestion",{question_id:e.questionId}).then(function(h){const M=s(r).find(I=>I.id===o);l(m,[...s(m),M],!0),l(r,s(r).filter(I=>I.id!==o),!0),Ee(t,-1)}).catch(function(h){alert(h)})}function x(){s(g)&&axios.post("/api/decks",{name:s(g)}).then(function(o){const h=o.data;l(m,[...s(m),h],!0),j(h.id),l(g,"")}).catch(function(o){alert(o)})}function k(){s(C)&&s(C).focus()}let q=p(()=>s(m)?.filter(o=>o.name.toLowerCase().includes(s(A).toLowerCase()))),O=p(()=>s(r)?.filter(o=>o.name.toLowerCase().includes(s(A).toLowerCase())));ue(()=>{s(O),k()});var b=Ct(),c=Q(b);let P;var U=v(a(c),2);{var be=o=>{var h=wt(),M=a(h);$(()=>xe(M,t())),n(o,h)};f(U,o=>{t()>0&&o(be)})}var G=v(c,2),J=v(a(G),2),te=a(J);{var ae=o=>{var h=kt(),M=Q(h);{var I=T=>{var L=mt();Ue(L,B=>l(C,B),()=>s(C)),Qe(L,()=>s(A),B=>l(A,B)),n(T,L)};f(M,T=>{s(r).length+s(m).length>10&&T(I)})}var re=v(M,2);pe(re,17,()=>s(O),Te,(T,L)=>{var B=gt(),oe=a(B),fe=a(oe),ge=a(fe),qe=v(oe,2),he=a(qe),Se=p(()=>K(()=>V(s(L).id)));he.__click=function(...Ie){s(Se)?.apply(this,Ie)},$(()=>{ce(fe,"href",`/decks/${s(L).id??""}`),xe(ge,s(L).name)}),n(T,B)});var me=v(re,2);{var Ce=T=>{var L=ht();n(T,L)};f(me,T=>{s(q).length>0&&s(O).length>0&&T(Ce)})}var _e=v(me,2);pe(_e,17,()=>s(q),Te,(T,L)=>{var B=xt(),oe=a(B),fe=a(oe),ge=a(fe),qe=v(oe,2),he=a(qe),Se=p(()=>K(()=>j(s(L).id)));he.__click=function(...Ie){s(Se)?.apply(this,Ie)},$(()=>{ce(fe,"href",`/decks/${s(L).id??""}`),xe(ge,s(L).name)}),n(T,B)});var ie=v(_e,2);{var de=T=>{var L=At();n(T,L)};f(ie,T=>{s(q).length===0&&s(O).length===0&&T(de)})}n(o,h)},_=o=>{var h=yt();n(o,h)};f(te,o=>{s(r)?o(ae):o(_,!1)})}var w=v(te,4),y=a(w),S=v(a(y),2),ne=a(S),R=v(S,2),W=p(()=>K(()=>x()));R.__click=function(...o){s(W)?.apply(this,o)},$(()=>P=Me(c,1,"btn btn-sm",null,P,{"btn-outline-secondary":t()===0,"bg-info-subtle":t()>0,"border-secondary":t()>0})),Qe(ne,()=>s(g),o=>l(g,o)),n(ee,b),ye()}Ae(["click"]);var St=d('<div class="my-4 pt-1 pb-1 border-dark" style="border-top: dotted; border-bottom: dotted; border-width: 1px;"><!></div>'),It=d('<div class="row"><div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-cone-striped"></i> <strong>Question is marked invalid</strong> and safe to skip!</div></div></div>'),Lt=d('<div class="row"><div class="col"><div class="alert alert-light" role="alert"><i class="bi bi-eraser-fill"></i> <strong>Question needs review</strong> - Please review the question and answer choices and make sure they are correct and clear. Afterwards, remove the "Needs review" flag.</div></div></div>'),pt=d('<div style="box-shadow: 4px 4px rgba(0,0,0,.2);" class="alert alert-secondary" role="alert"><p class="small fw-bold"><i class="bi bi-clipboard2-pulse"></i> CASE</p> <p class="trix-content"><!></p></div>'),Dt=d('<div class="col-lg"><p id="questionText" class="trix-content"><!></p></div>'),Mt=d('<div class="row border-start border-3 border-secondary-subtle m-1 mt-3 mb-3"><p><!></p></div>'),Tt=d('<button type="button" class="btn btn-outline-secondary btn-sm mb-3"><i class="bi bi-question-circle"></i> Show hint</button>'),Et=d('<div class="row"><div class="col"><div class="alert alert-secondary mt-1 trix-content" role="alert"><!></div></div></div>'),Qt=d('<li><button type="button" class="dropdown-item btn btn-sm"><i class="bi bi-arrow-counterclockwise"></i> Reset answer</button></li>'),zt=d('<li><hr class="dropdown-divider"/></li> <li><a class="dropdown-item btn btn-sm" role="button"><i class="bi bi-collection"></i> Open in deck editor</a></li>',1),Nt=d('<div class="mt-3"><button type="button" class="btn btn-outline-secondary btn-sm">&rightarrow; Show answer</button></div>'),jt=d('<div class="px-2 py-2 border rounded-3 shadow-sm bg-light-subtle" style=""><!> <!> <!> <div class="row border-start border-3 border-dark m-1 mb-3 pt-2"><!> <!></div> <!> <!> <!> <div class="row mt-1 mb-1 pt-2"><div class="d-flex justify-content-end"><div class="btn-group me-1"><button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">More</button> <ul class="dropdown-menu"><!> <li><a class="dropdown-item btn btn-sm" target="_blank" role="button"><i class="bi bi-box-arrow-up-right"></i> Open in new tab</a></li> <li><hr class="dropdown-divider"/></li> <li><button type="button" class="dropdown-item btn btn-sm"><i class="bi bi-pencil"></i> Edit question</button></li> <!></ul></div> <!></div></div> <!></div>'),Ot=d("<p>Loading ...</p>");function $t(ee,e){ke(e,!0);let t=we(e,"question",15),r=we(e,"questionContext",15),m=we(e,"helpUsed",15),g=we(e,"examMode",15),C=we(e,"settingsShowAnswerStats",15);var A=Y(!1),D=Y(Be(r().isAnswered));ue(()=>{t(),l(D,r().isAnswered,!0),m(r().isAnswered)}),ue(()=>{t(),(()=>{var b=document.querySelectorAll("#questionText li");[].map.call(b,function(c){c.addEventListener("click",j,!1)})})()}),ue(()=>{t(),t().answers.forEach((b,c)=>{b.badgeText="ABCDEFGHIJKLMN".charAt(c)}),t()&&t().type==="mc"&&e.settingsShuffleAnswers&&!r().isAnswered&&!Object.values(r().answerContext).some(b=>b.isSelectedAnswer)&&t(t().answers=Re.shuffle(t().answers),!0)});function j(b){const c=b.target;!c.classList.contains("bg-danger-subtle")&&!c.classList.contains("bg-warning-subtle")&&!c.classList.contains("bg-success-subtle")?c.classList.add("bg-success-subtle"):c.classList.contains("bg-success-subtle")?(c.classList.remove("bg-success-subtle"),c.classList.add("bg-danger-subtle")):c.classList.contains("bg-danger-subtle")?(c.classList.remove("bg-danger-subtle"),c.classList.add("bg-warning-subtle")):c.classList.contains("bg-warning-subtle")&&c.classList.remove("bg-warning-subtle")}function V(){const b=!F(A);b?e.updateCurrentQuestionData?e.updateCurrentQuestionData().then(()=>{l(A,b)}):l(A,b):l(A,b)}var x=Z(),k=Q(x);{var q=b=>{var c=Z(),P=Q(c);{var U=G=>{var J=St(),te=a(J);He(te,{toggleEditor:V,get question(){return t()},set question(ae){t(ae)}}),n(G,J)},be=G=>{var J=jt(),te=a(J);{var ae=i=>{var u=It();n(i,u)};f(te,i=>{t().is_invalid&&i(ae)})}var _=v(te,2);{var w=i=>{var u=Lt();n(i,u)};f(_,i=>{t().needs_review&&i(w)})}var y=v(_,2);{var S=i=>{var u=pt(),z=v(a(u),2),E=a(z);ve(E,()=>le.sanitize(t().case.text)),n(i,u)};f(y,i=>{t().case&&i(S)})}var ne=v(y,2),R=a(ne);{var W=i=>{var u=Dt(),z=a(u),E=a(z);ve(E,()=>le.sanitize(t().text)),n(i,u)};f(R,i=>{t().text&&i(W)})}var o=v(R,2);{var h=i=>{ft(i,{get images(){return t().images},set images(u){t(t().images=u,!0)}})};f(o,i=>{t().images&&t().images.length>0&&i(h)})}var M=v(ne,2);{var I=i=>{var u=Z(),z=Q(u);{var E=N=>{var se=Mt(),H=a(se),De=a(H);ve(De,()=>le.sanitize(t().hint)),n(N,se)},X=N=>{var se=Tt(),H=p(()=>K(()=>{l(D,!0),m(!0)}));se.__click=function(...De){s(H)?.apply(this,De)},n(N,se)};f(z,N=>{F(D)?N(E):N(X,!1)})}n(i,u)};f(M,i=>{!g()&&t().hint&&i(I)})}var re=v(M,2);{var me=i=>{var u=Z(),z=Q(u);pe(z,19,()=>t().answers,E=>E.id,(E,X,N)=>{{let se=p(()=>s(N)+1);rt(E,{get submitAnswer(){return e.submitAnswer},get answerNumber(){return s(se)},get answer(){return t().answers[s(N)]},set answer(H){t(t().answers[s(N)]=H,!0)},get answerContext(){return r().answerContext[s(X).id]},set answerContext(H){r(r().answerContext[s(X).id]=H,!0)},get examMode(){return g()},set examMode(H){g(H)},get settingsShowAnswerStats(){return C()},set settingsShowAnswerStats(H){C(H)},get questionIsAnswered(){return r().isAnswered},set questionIsAnswered(H){r(r().isAnswered=H,!0)}})}}),n(i,u)},Ce=i=>{var u=Z(),z=Q(u);{var E=N=>{{let se=p(()=>!!e.answerChoice);ct(N,{get submitAnswer(){return e.submitAnswer},get hasAnswer(){return s(se)}})}},X=N=>{{let se=p(()=>!!e.answerChoice);vt(N,{get submitAnswer(){return e.submitAnswer},get hasAnswer(){return s(se)},get answer(){return t().answers[0]},set answer(H){t(t().answers[0]=H,!0)}})}};f(z,N=>{t().answers.length===0?N(E):N(X,!1)})}n(i,u)};f(re,i=>{t().type==="mc"?i(me):i(Ce,!1)})}var _e=v(re,2);{var ie=i=>{var u=Et(),z=a(u),E=a(z),X=a(E);ve(X,()=>le.sanitize(t().comment)),n(i,u)};f(_e,i=>{!g()&&r().isAnswered&&t().comment&&i(ie)})}var de=v(_e,2),T=a(de),L=a(T),B=v(a(L),2),oe=a(B);{var fe=i=>{var u=Qt(),z=a(u),E=p(()=>K(e.deleteAnswer));z.__click=function(...X){s(E)?.apply(this,X)},n(i,u)};f(oe,i=>{r().isAnswered&&e.answerChoice!==-1&&i(fe)})}var ge=v(oe,2),qe=a(ge),he=v(ge,4),Se=a(he),Ie=p(()=>K(V));Se.__click=function(...i){s(Ie)?.apply(this,i)};var Ne=v(he,2);{var je=i=>{var u=zt(),z=v(Q(u),2),E=a(z);$(()=>ce(E,"href",`/decks/${e.deckId??""}/questions/edit?question_id=${t().id??""}`)),n(i,u)};f(Ne,i=>{e.deckId&&i(je)})}var Oe=v(L,2);Ke(Oe,()=>t().id,i=>{qt(i,{get questionId(){return t().id},get questionAddToDeckIncludedCount(){return t().add_to_deck_included_count},set questionAddToDeckIncludedCount(u){t(t().add_to_deck_included_count=u,!0)}})});var Fe=v(de,2);{var Ve=i=>{var u=Nt(),z=a(u),E=p(()=>K(()=>e.submitAnswer()));z.__click=function(...X){s(E)?.apply(this,X)},n(i,u)};f(Fe,i=>{!r().isAnswered&&!g()&&t().type!=="card"&&i(Ve)})}$(()=>{ce(J,"id",`question${t().id??""}`),ce(qe,"href",`/questions/${t().id??""}`)}),n(G,J)};f(P,G=>{F(A)?G(U):G(be,!1)})}n(b,c)},O=b=>{var c=Ot();n(b,c)};f(k,b=>{t()?b(q):b(O,!1)})}n(ee,x),ye()}Ae(["click"]);export{$t as S};
